<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Docker ç›¸å…³ç¬”è®°</title>
      <link href="/2020/08/10/Docker%20%E7%9B%B8%E5%85%B3%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/08/10/Docker%20%E7%9B%B8%E5%85%B3%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="åœ¨-CentOS-7-ç³»ç»Ÿä¸Šå®‰è£…"><a href="#åœ¨-CentOS-7-ç³»ç»Ÿä¸Šå®‰è£…" class="headerlink" title="åœ¨ CentOS 7 ç³»ç»Ÿä¸Šå®‰è£…"></a>åœ¨ CentOS 7 ç³»ç»Ÿä¸Šå®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line">$ yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">$ yum-config-manager --<span class="built_in">enable</span> docker-ce-edge</span><br><span class="line">$ yum install docker-ce</span><br><span class="line">$ systemctl <span class="built_in">enable</span> docker</span><br><span class="line">$ systemctl start docker</span><br></pre></td></tr></table></figure><h2 id="docker-compose-çš„å®‰è£…"><a href="#docker-compose-çš„å®‰è£…" class="headerlink" title="docker-compose çš„å®‰è£…"></a>docker-compose çš„å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo curl -L https://github.com/docker/compose/releases/download/1.17.0/docker-compose-`uname -s`-`uname -m` -o /usr/<span class="built_in">local</span>/bin/docker-compose</span><br><span class="line">$ chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å‘½ä»¤å¯åŠ¨å®¹å™¨ç¤ºä¾‹"><a href="#ä½¿ç”¨å‘½ä»¤å¯åŠ¨å®¹å™¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨å‘½ä»¤å¯åŠ¨å®¹å™¨ç¤ºä¾‹:"></a>ä½¿ç”¨å‘½ä»¤å¯åŠ¨å®¹å™¨ç¤ºä¾‹:</h2><p>æ¶‰åŠåˆ°äº† ç«¯å£æ˜ å°„, æ–‡ä»¶æ˜ å°„ å’Œ å®¹å™¨å…³è” ç›¸å…³å‚æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d --name=cartoapi2  -p 8080:80 -v /root/cartoapi/.env:/app/.env --restart=always registry.cn-beijing.aliyuncs.com/newsta-sc/qianfang-api</span><br><span class="line">$ docker run -d --name=cartoweb3  -p 80:80  --restart=always -v /root/cartoweb/Constant.js:/usr/share/nginx/html/static/Constant.js   --link cartoapi2:cartoapi registry.cn-beijing.aliyuncs.com/newsta-sc/qianfang-web</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æœ€åå‡ æ¡æ—¥å¿—-å®æ—¶"><a href="#æŸ¥çœ‹æœ€åå‡ æ¡æ—¥å¿—-å®æ—¶" class="headerlink" title="æŸ¥çœ‹æœ€åå‡ æ¡æ—¥å¿—+å®æ—¶"></a>æŸ¥çœ‹æœ€åå‡ æ¡æ—¥å¿—+å®æ—¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker logs -f â€”tail=100 container_name</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®Dockerå®¹å™¨æ—¥å¿—æ–‡ä»¶å¤§å°é™åˆ¶"><a href="#è®¾ç½®Dockerå®¹å™¨æ—¥å¿—æ–‡ä»¶å¤§å°é™åˆ¶" class="headerlink" title="è®¾ç½®Dockerå®¹å™¨æ—¥å¿—æ–‡ä»¶å¤§å°é™åˆ¶"></a>è®¾ç½®Dockerå®¹å™¨æ—¥å¿—æ–‡ä»¶å¤§å°é™åˆ¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>å¢åŠ ä»¥ä¸‹é…ç½®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// max-size: 500mï¼Œè¡¨ç¤ºä¸€ä¸ªå®¹å™¨æ—¥å¿—å¤§å°ä¸Šé™æ˜¯500M</span></span><br><span class="line"><span class="comment">// max-file: 3, è¡¨ç¤ºä¸€ä¸ªå®¹å™¨æœ€å¤šå¯ä»¥ç”Ÿæˆ 3 ä¸ªæ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"log-driver"</span>:<span class="string">"json-file"</span>,</span><br><span class="line">  <span class="attr">"log-opts"</span>: &#123;<span class="attr">"max-size"</span>:<span class="string">"500m"</span>, <span class="attr">"max-file"</span>:<span class="string">"3"</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åé‡å¯ docker å®ˆæŠ¤è¿›ç¨‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl daemon-reload</span><br><span class="line">$ systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="æ¸…ç†ç©ºé—´"><a href="#æ¸…ç†ç©ºé—´" class="headerlink" title="æ¸…ç†ç©ºé—´"></a>æ¸…ç†ç©ºé—´</h2><ol><li>æ¸…ç†æ— ç”¨é•œåƒ</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker image prune -a -f</span><br></pre></td></tr></table></figure><ol start="2"><li>æ¸…ç©ºç°æœ‰æ—¥å¿—è„šæœ¬</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"======== start clean docker containers logs ========"</span>  </span><br><span class="line"></span><br><span class="line">logs=$(find /var/lib/docker/containers/ -name *-json.log)  </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">log</span> <span class="keyword">in</span> <span class="variable">$logs</span>  </span><br><span class="line">        <span class="keyword">do</span>  </span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"clean logs : <span class="variable">$log</span>"</span>  </span><br><span class="line">                cat /dev/null &gt; <span class="variable">$log</span>  </span><br><span class="line">        <span class="keyword">done</span>  </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"======== end clean docker containers logs ========"</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows æ›´æ–°å‡ºé”™å¯¼è‡´çš„è“å±é—®é¢˜è§£å†³</title>
      <link href="/2020/08/10/Windows%20%E6%9B%B4%E6%96%B0%E5%87%BA%E9%94%99%E5%AF%BC%E8%87%B4%E7%9A%84%E8%93%9D%E5%B1%8F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
      <url>/2020/08/10/Windows%20%E6%9B%B4%E6%96%B0%E5%87%BA%E9%94%99%E5%AF%BC%E8%87%B4%E7%9A%84%E8%93%9D%E5%B1%8F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<p>Windows å¤ªä¸çœå¿ƒ, å…³æœºæ—¶é€‰æ‹© <code>æ›´æ–°å¹¶å…³æœº</code> ç»“æœç¬¬äºŒå¤©å¼€æœºç›´æ¥è“å±, é”™è¯¯ç  <code>0xc000021a</code>, åœ¨ Recovery ä¸­è‡ªåŠ¨ä¿®å¤å¤±è´¥, å¸è½½æœ€åä¸€æ¬¡æ›´æ–°å¤±è´¥.<br>ç»™ğŸ‘´æ•´æ‡µäº†.</p><p>æ‰¾åˆ°æ¥è‡ª <a href="https://blog.csdn.net/wm9028/article/details/88133443" target="_blank" rel="noopener">CSDN ä¸€åšä¸»çš„è§£å†³æ–¹æ¡ˆ</a>, æœ‰æ•ˆ, åœ¨æ­¤è®°å½•.</p><ol><li>åœ¨ Recovery é¡µé¢è¿›å…¥å‘½ä»¤è¡Œ, ä½¿ç”¨ <code>c:</code> å‘½ä»¤è¿›å…¥ç³»ç»Ÿç›˜</li><li>å‘½ä»¤ <code>dism /image:c:\ /cleanup-image /revertpendingactions</code></li><li>å‘½ä»¤ <code>exit</code></li></ol><p>æ‰§è¡Œå®Œæˆåé‡å¯å³å¯. æœªä½¿ç”¨åˆ°åŸåšä¸­ç¬¬å››æ­¥å†…å®¹.</p><p>åŸåšä¸­è¿˜å¤‡æ³¨äº†ä¸€ä¸ª<a href="https://neosmart.net/wiki/0xc000021a/" target="_blank" rel="noopener">å…¶ä»–è§£å†³æ–¹æ¡ˆçš„é“¾æ¥</a>,  ä¸Šé¢çš„æ“ä½œè§£å†³ä¸äº†çš„æ—¶å€™å¯ä»¥å°è¯•ä¸€ä¸‹.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ CRA é¡¹ç›®ä¸­ä½¿ç”¨ WebWorker</title>
      <link href="/2020/04/02/%E5%9C%A8%20CRA%20%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8%20WebWorker/"/>
      <url>/2020/04/02/%E5%9C%A8%20CRA%20%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8%20WebWorker/</url>
      
        <content type="html"><![CDATA[<p>ä¸ºäº†è§£å†³å‰ç«¯æ€§èƒ½é—®é¢˜, æ‰“ç®—åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ WebWorker, ä¹‹å‰åªæ˜¯ç®€å•äº†è§£è¿‡, æœ¬æ¥ä»¥ä¸ºå¾ˆç®€å•çš„é—®é¢˜,<br>çœŸæ­£ä¸Šæ‰‹çš„æ—¶å€™å‘ç°ä¸€äº›é™åˆ¶, è¿˜å¾—è¸©ä¸€ç‚¹å‘. è¿™é‡Œè®°å½•ä¸€ä¸‹ä¸€ä¸ªæ—§ç‰ˆæœ¬ create-reat-app èµ·æ‰‹çš„é¡¹ç›®<br>çš„ WebWorker é…ç½®å’Œè¸©å‘è¿‡ç¨‹.</p><a id="more"></a><p>è¿™æ¬¡ä¸»è¦æ˜¯æƒ³æŠŠ axios å‘å‡ºçš„ get è¯·æ±‚å…¨éƒ¨æ”¾è¿›æ¥.</p><h2 id="å°è¯•åŸå§‹æ–¹æ¡ˆ"><a href="#å°è¯•åŸå§‹æ–¹æ¡ˆ" class="headerlink" title="å°è¯•åŸå§‹æ–¹æ¡ˆ"></a>å°è¯•åŸå§‹æ–¹æ¡ˆ</h2><p>åˆšå¼€å§‹æ¥è§¦ä¸€æ ·ä¸œè¥¿çš„æ—¶å€™, è¿˜æ˜¯å¾—æŒ‰åŸç”Ÿçš„æ¥, çœ‹ä¸€çœ¼ MDN æ–‡æ¡£, å‚ç…§ç¤ºä¾‹æ¥å‘—.</p><p>åˆ›å»º axiosWorker.js, å†…å®¹å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line">onmessage = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; data &#125; = e</span><br><span class="line">  axios.get(data.url, data.options).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    postMessage(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">data</span>: res.data &#125;)</span><br><span class="line">    close()</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    postMessage(&#123; <span class="attr">status</span>: <span class="number">2</span>, error &#125;)</span><br><span class="line">    close()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºæ˜¯ç°æœ‰é¡¹ç›®, ç¨‹åºä¸­çš„ axios éƒ½æ˜¯ä»ä¸€ä¸ªå®šä¹‰æ‹¦æˆªå™¨çš„ js é‡Œ export å‡ºæ¥çš„,<br>æ­£å¥½åœ¨è¿™è¾¹è¦†ç›– axios.get æ–¹æ³•. åœ¨ interceptor.js ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">axios.get = <span class="function">(<span class="params">url, options</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> worker = <span class="keyword">new</span> Worker(<span class="string">'axiosWorker.js'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    worker.onmessage = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; data &#125; = e</span><br><span class="line">      <span class="keyword">if</span> (data.status === <span class="number">1</span>) &#123;</span><br><span class="line">        resolve(&#123; <span class="attr">data</span>: data.res &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(data)</span><br><span class="line">      &#125;</span><br><span class="line">      close()</span><br><span class="line">    &#125;</span><br><span class="line">    worker.postMessage(&#123; url, options &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·‘èµ·æ¥! å“¦, è·‘ä¸èµ·æ¥â€¦</p><p>å› ä¸º WebWorker æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶è„šæœ¬, è¿™ <code>import</code> è¯­å¥ç›´æ¥æŠ¥é”™å•Š. å…ˆæŠŠ <code>node_modules/axios/dist/axios.min.js</code> æ‹·åˆ° <code>public</code> ç›®å½•ä¸‹,<br>å½“åšé™æ€èµ„æºè¯•ä¸€ä¸‹å§. è€Œä¸” <code>axiosWorker.js</code> é‡Œé¢çš„ <code>import</code> éœ€è¦å˜æˆ <code>importScript()</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">importScript(<span class="string">`<span class="subst">$&#123;origin&#125;</span>/axios.min.js`</span>) <span class="comment">// è¿™å—ç›´æ¥ / å¼€å¤´æ˜¯ä¸è¡Œçš„, å¥½åœ¨é‡Œé¢ç›´æ¥æä¾›äº† origin</span></span><br></pre></td></tr></table></figure><p>è·‘èµ·æ¥!</p><p>è¿™ç¬¬ä¸€ç‰ˆç®—æ˜¯èƒ½ç”¨äº†</p><p>è¿™äº›æ“ä½œæœ‰å‡ ä¸ªå…³é”®ç‚¹:</p><ul><li><code>postMessage</code> ä¼ å‚æ•°çš„æ–¹å¼çš„å¤åˆ¶, ä¸ä¼ å¼•ç”¨, æ‰€ä»¥ä¸èƒ½ä¼ é€’å‡½æ•°å‚æ•°. æ‰€ä»¥åœ¨ worker ä¸­çš„ axios çš„ then æ–¹æ³•ä¸­ä¸èƒ½ç›´æ¥<br>æŠŠ res ä¼ å›æ¥. è¦æ ¹æ®æƒ…å†µæ‹¿éœ€è¦çš„å­—æ®µå›ä¼ </li><li>worker ç”¨å®Œè®°å¾—å…³æ‰çº¿ç¨‹. åœ¨ worker ä¸­å¯ä»¥ç”¨ <code>close()</code>, åœ¨ä¸»çº¿ç¨‹ä¸­å¯ä»¥ç”¨ <code>woker.terminate()</code></li></ul><p>è¿™æ³¢ä¹Ÿæœ‰å‡ ä¸ªé—®é¢˜:</p><ul><li>æ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºæ–°çš„ worker, æ„Ÿè§‰æ²¡å¿…è¦, èƒ½ä¸èƒ½å¤ç”¨å‘¢</li><li>worker é‡Œé¢æ²¡æ³•ç›´æ¥å¼•ç”¨ node_modules é‡Œçš„åŒ…, ä»¥åå²‚ä¸æ˜¯è¿˜æ˜¯å¾ˆéº»çƒ¦</li><li>æœ‰ä¸ªåˆ« api axios ä¼šæŠ¥å‡ºè¯·æ±‚çš„ url è¯­æ³•é”™è¯¯, æäº†å¥½ä¹…ä¹Ÿæ²¡æ‰¾åˆ°é—®é¢˜</li></ul><h2 id="è¿›ä¸€æ­¥"><a href="#è¿›ä¸€æ­¥" class="headerlink" title="è¿›ä¸€æ­¥"></a>è¿›ä¸€æ­¥</h2><h3 id="é¦–å…ˆè§£å†³-worker-å¤ç”¨é—®é¢˜"><a href="#é¦–å…ˆè§£å†³-worker-å¤ç”¨é—®é¢˜" class="headerlink" title="é¦–å…ˆè§£å†³ worker å¤ç”¨é—®é¢˜"></a>é¦–å…ˆè§£å†³ worker å¤ç”¨é—®é¢˜</h3><p>è¿™é‡Œé¢æœ‰å‡ ä¸ªé‡ç‚¹:</p><ul><li><code>worker.onmessage</code> è¦æ¢æˆ <code>worker.addEventListener(&#39;message&#39;, e =&gt; {...})</code>, å¦åˆ™æ¯æ¬¡éƒ½ä¼šè¦†ç›–æ‰ä¹‹å‰çš„å›è°ƒ,<br>åœ¨è¿ç»­å‘å‡ºè¯·æ±‚æ—¶, åªä¼šè§¦å‘æœ€åä¸€æ¬¡èµ‹ç»™çš„å›è°ƒ. å¹¶ä¸”æ¯ä¸ªå›è°ƒè§¦å‘åè¦å–æ¶ˆæ‰å½“å‰çš„äº‹ä»¶ç›‘å¬å›è°ƒ</li><li>éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨, ç”¨è¿™ä¸ªæ•°å­—åœ¨å›è°ƒä¸­åŒ¹é…å‘å‡ºçš„è¯·æ±‚ (å½“ worker postMessage çš„æ—¶å€™, æ¯ä¸ªå›è°ƒéƒ½ä¼šè§¦å‘, åˆ¤æ–­ä¸åŒ¹é…æ—¶åº”è¯¥ä¸å¤„ç†)</li></ul><p>ä¿®æ”¹åçš„ axiosWorker.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">importScript(<span class="string">`<span class="subst">$&#123;origin&#125;</span>/axios.min.js`</span>)</span><br><span class="line"></span><br><span class="line">onmessage = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; data &#125; = e</span><br><span class="line">  axios.get(data.url, data.options).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    postMessage(&#123; <span class="attr">reqId</span>: data.reqId, <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">data</span>: res.data &#125;)</span><br><span class="line">    close()</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    postMessage(&#123; <span class="attr">reqId</span>: data.reqId, <span class="attr">status</span>: <span class="number">2</span>, error &#125;)</span><br><span class="line">    close()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åçš„ interceptor.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> worker = <span class="keyword">new</span> Worker(<span class="string">'axiosWorker.js'</span>)</span><br><span class="line"><span class="keyword">let</span> axios_req_sum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">axios.get = <span class="function">(<span class="params">url, options</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> reqId = axios_req_sum++</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; data &#125; = e</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (data.reqId !== reqId) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      worker.removeEventListener(<span class="string">'message'</span>, callback)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (data.status === <span class="number">1</span>) &#123;</span><br><span class="line">        resolve(&#123; <span class="attr">data</span>: data.res &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(data)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    worker.addEventListener(<span class="string">'message'</span>, callback)</span><br><span class="line">    worker.postMessage(&#123; reqId, url, options &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸºæœ¬è¡Œäº†</p><h3 id="import-é—®é¢˜"><a href="#import-é—®é¢˜" class="headerlink" title="import é—®é¢˜"></a>import é—®é¢˜</h3><p>ä¸Šé¢çš„åŸºæœ¬è¡Œäº†, ä½†æ˜¯ä¸èƒ½ç›´æ¥ import çš„é™åˆ¶è¿˜æ˜¯å¾ˆéš¾å—, ä»¥åå’‹æ•´å•Š. </p><p>æ‰¾äº†ä¸€åœˆ, è§£å†³æ–¹æ¡ˆè¿˜æ˜¯å¾ˆå¤šçš„, ä½†æ˜¯æ²¡æœ‰æ˜ç¡®é’ˆå¯¹ cra çš„â€¦, å’±è¿™ç§æ²¡ eject çš„é¡¹ç›®, è¿˜æ˜¯å¾—å‚ç…§ webpack çš„é…ç½®æ‘¸ç´¢</p><p>æœ€åé€‰äº†ä¸€ä¸ªè¿˜ç®—ç®€å•çš„ <a href="https://github.com/webpack-contrib/worker-loader" target="_blank" rel="noopener"><code>worker-loader</code></a>, webpack å‡ºçš„.<br>æˆ‘çœ‹åŸç†åº”è¯¥å°±æ˜¯åœ¨ serve å’Œ hotload æ—¶æå‰æŠŠ worker æ–‡ä»¶è½¬è¯‘æˆé™æ€æ–‡ä»¶, ç„¶åå†åˆ›å»º Worker. è¿™æ · worker é‡Œé¢å°±èƒ½ç›´æ¥ç”¨<br>npm è£…çš„åŒ…äº†</p><p>åœ¨ <code>config-overrides.js</code> ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; addWebpackModuleRule &#125; = <span class="built_in">require</span>(<span class="string">'customize-cra'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = override(</span><br><span class="line"></span><br><span class="line">  config =&gt; (&#123;</span><br><span class="line">    ...config,</span><br><span class="line">    output: &#123;</span><br><span class="line">      ...config.output,</span><br><span class="line">      globalObject: <span class="string">'this'</span>    <span class="comment">// è¿™ä¸ªå¾ˆé‡è¦, å¦åˆ™çƒ­é‡è½½ä¼šæŠ¥é”™</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;),</span><br><span class="line">  addWebpackModuleRule(&#123;      <span class="comment">// è¿™å—é…ç½® worker-loader</span></span><br><span class="line">    test: <span class="regexp">/\.worker\.js$/</span>,</span><br><span class="line">    use: &#123; <span class="attr">loader</span>: <span class="string">'worker-loader'</span> &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>ç„¶åæ ¹æ®ä¸Šé¢ loader çš„é…ç½®, æŠŠ <code>axiosWorker.js</code> æ”¹æˆ <code>axios.worker.js</code> (å°±æ˜¯ <code>.worker.js</code> ç»“å°¾ğŸ), é‡Œé¢çš„<br><code>importScript</code> ä¹Ÿå¯ä»¥ç›´æ¥å˜æˆ <code>import</code> äº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>ç„¶å <code>interceptor.js</code> ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> AxiosWorker <span class="keyword">from</span> <span class="string">'axios.worker.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> worker = <span class="keyword">new</span> AxiosWorker()    <span class="comment">// ç›´æ¥ new å‡ºæ¥å°±æ˜¯ worker å®ä¾‹äº†</span></span><br><span class="line"><span class="keyword">let</span> axios_req_sum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">axios.get = <span class="function">(<span class="params">url, options</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> reqId = axios_req_sum++</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; data &#125; = e</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (data.reqId !== reqId) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      worker.removeEventListener(<span class="string">'message'</span>, callback)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (data.status === <span class="number">1</span>) &#123;</span><br><span class="line">        resolve(&#123; <span class="attr">data</span>: data.res &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(data)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    worker.addEventListener(<span class="string">'message'</span>, callback)</span><br><span class="line">    worker.postMessage(&#123; reqId, url, options &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œäº‹. worker ä¸­å¯ä»¥ç›´æ¥å¼•ç”¨ node_module ä¸­çš„åº“äº†. ä¸çŸ¥é“å’‹å›äº‹çš„ axios url è¯­æ³•é”™è¯¯é—®é¢˜ä¹Ÿä¸è§äº†â€¦</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> create-react-app </tag>
            
            <tag> WebWorker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–¹ä¾¿åœ°åœ¨ Linux ä¸Šå®‰è£… Node.js</title>
      <link href="/2020/03/23/%E6%96%B9%E4%BE%BF%E5%9C%B0%E5%9C%A8%20Linux%20%E4%B8%8A%20%E5%AE%89%E8%A3%85%20Node.js/"/>
      <url>/2020/03/23/%E6%96%B9%E4%BE%BF%E5%9C%B0%E5%9C%A8%20Linux%20%E4%B8%8A%20%E5%AE%89%E8%A3%85%20Node.js/</url>
      
        <content type="html"><![CDATA[<p>Linux è‡ªå¸¦çš„è½¯ä»¶åŒ…æ€»æ˜¯æ²¡æ³•ç›´æ¥å®‰è£…åˆ°æœ€æ–°çš„ç‰ˆæœ¬. ä»æºç æ„å»ºå§, å’±è¿™ç§ä¸ç†Ÿæ‚‰ cmake å•¥çš„çš„äºº, ä¸€æ—¦é‡åˆ°é”™è¯¯,<br>å°±è¦èŠ±è´¹å¾ˆå¤šæ—¶é—´å»å¤„ç†, ç»ˆäºåˆä¸€æ¬¡å‘ç°äº†è¿™ä¸ª, å¯ä»¥æ–¹ä¾¿å¿«é€Ÿåœ°åœ¨ Linux ä¸Šå®‰è£… Nodejs</p><a id="more"></a><blockquote><p><a href="https://github.com/nodesource/distributions" target="_blank" rel="noopener">Github Repo</a></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Using Ubuntu</span><br><span class="line">curl -sL https:&#x2F;&#x2F;deb.nodesource.com&#x2F;setup_11.x | sudo -E bash -</span><br><span class="line">sudo apt-get install -y nodejs</span><br><span class="line"></span><br><span class="line"># Using Debian, as root</span><br><span class="line">curl -sL https:&#x2F;&#x2F;deb.nodesource.com&#x2F;setup_11.x | bash -</span><br><span class="line">apt-get install -y nodejs</span><br><span class="line"></span><br><span class="line"># Using CentOS&#x2F;Fedora</span><br><span class="line">curl -sL https:&#x2F;&#x2F;rpm.nodesource.com&#x2F;setup_11.x | bash -</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç§æœ‰ NPM ä»“åº“æ­å»ºè®°å½•</title>
      <link href="/2020/03/23/%E7%A7%81%E6%9C%89%20NPM%20%E4%BB%93%E5%BA%93%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/"/>
      <url>/2020/03/23/%E7%A7%81%E6%9C%89%20NPM%20%E4%BB%93%E5%BA%93%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>å…¬å¸å†…éƒ¨ä¼šæœ‰å¾ˆå¤šå…¬ç”¨ç»„ä»¶, ä¸æ–¹ä¾¿ä¸Šä¼ åˆ° npm å®˜æ–¹ä»“åº“è¿›è¡Œç®¡ç†, é€‰æ‹©æ­å»ºç§æœ‰ NPM ä»“åº“, æ–¹ä¾¿ç®¡ç†.</p><p>å¸‚é¢ä¸Šå¾ˆå¤šç›¸å…³å¼€æºé¡¹ç›®, åŠŸèƒ½ä¸Šå¤§åŒå°å¼‚, è¿™é‡Œé€‰æ‹©ä½¿ç”¨<a href="https://github.com/verdaccio/verdaccio" target="_blank" rel="noopener">Verdaccio</a>.</p><a id="more"></a><h2 id="æœåŠ¡ç«¯æ­å»º"><a href="#æœåŠ¡ç«¯æ­å»º" class="headerlink" title="æœåŠ¡ç«¯æ­å»º"></a>æœåŠ¡ç«¯æ­å»º</h2><h3 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h3><p>Verdaccio æ˜¯åŸºäº Node çš„, ä¸ºäº†æ–¹ä¾¿, è¿™é‡Œé€‰æ‹©ä½¿ç”¨ <code>Docker</code> å’Œ <code>docker-compose</code>. ä»–ä»¬çš„å®‰è£…è§<a href="https://www.docker.com/get-started" target="_blank" rel="noopener">å®˜ç½‘</a></p><p>åˆ›å»º <code>Verdaccio</code> ç›®å½•, ç”¨äºå­˜æ”¾ç›¸å…³çš„å†…å®¹. è¯¥ç›®å½•ä¸­è¿˜éœ€åˆ›å»º</p><ul><li><code>config</code> ç›®å½•ç”¨äºå­˜æ”¾è‡ªå®šä¹‰é…ç½®æ–‡ä»¶</li><li><code>plugins</code> ç›®å½•ç”¨äºå­˜æ”¾æ’ä»¶æ–‡ä»¶</li><li><code>storage</code> ç›®å½•ç”¨äºå­˜å‚¨</li></ul><h3 id="ç¼–è¾‘é…ç½®"><a href="#ç¼–è¾‘é…ç½®" class="headerlink" title="ç¼–è¾‘é…ç½®"></a>ç¼–è¾‘é…ç½®</h3><ol><li><code>Verdaccio</code> é…ç½®</li></ol><p>åˆ›å»º <code>Verdaccio/config/config.yaml</code> æ–‡ä»¶, å†™å…¥é¡¹ç›®ä¸­çš„é»˜è®¤ docker ç”¨æ³•çš„é…ç½® (æºç /conf/docker.yaml). å†…å®¹å¦‚ä¸‹:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is the config file used for the docker images.</span></span><br><span class="line"><span class="comment"># It allows all users to do anything, so don't use it on production systems.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Do not configure host and port under `listen` in this file</span></span><br><span class="line"><span class="comment"># as it will be ignored when using docker.</span></span><br><span class="line"><span class="comment"># see https://verdaccio.org/docs/en/docker#docker-and-custom-port-configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Look here for more config file examples:</span></span><br><span class="line"><span class="comment"># https://github.com/verdaccio/verdaccio/tree/master/conf</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># path to a directory with all packages</span></span><br><span class="line"><span class="attr">storage:</span> <span class="string">/verdaccio/storage/data</span></span><br><span class="line"><span class="comment"># path to a directory with plugins to include</span></span><br><span class="line"><span class="attr">plugins:</span> <span class="string">/verdaccio/plugins</span></span><br><span class="line"></span><br><span class="line"><span class="attr">web:</span></span><br><span class="line">  <span class="comment"># WebUI is enabled as default, if you want disable it, just uncomment this line</span></span><br><span class="line">  <span class="comment">#enable: false</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Verdaccio</span></span><br><span class="line">  <span class="comment"># comment out to disable gravatar support</span></span><br><span class="line">  <span class="comment"># gravatar: false</span></span><br><span class="line">  <span class="comment"># by default packages are ordercer ascendant (asc|desc)</span></span><br><span class="line">  <span class="comment"># sort_packages: asc</span></span><br><span class="line"></span><br><span class="line"><span class="attr">auth:</span></span><br><span class="line">  <span class="attr">htpasswd:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">/verdaccio/storage/htpasswd</span></span><br><span class="line">    <span class="comment"># Maximum amount of users allowed to register, defaults to "+infinity".</span></span><br><span class="line">    <span class="comment"># You can set this to -1 to disable registration.</span></span><br><span class="line">    <span class="comment"># max_users: 1000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># a list of other known repositories we can talk to</span></span><br><span class="line"><span class="attr">uplinks:</span></span><br><span class="line">  <span class="attr">npmjs:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://registry.npmjs.org/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">packages:</span></span><br><span class="line">  <span class="string">'@*/*'</span><span class="string">:</span></span><br><span class="line">    <span class="comment"># scoped packages</span></span><br><span class="line">    <span class="attr">access:</span> <span class="string">$all</span></span><br><span class="line">    <span class="attr">publish:</span> <span class="string">$authenticated</span></span><br><span class="line">    <span class="attr">unpublish:</span> <span class="string">$authenticated</span></span><br><span class="line">    <span class="attr">proxy:</span> <span class="string">npmjs</span></span><br><span class="line"></span><br><span class="line">  <span class="string">'**'</span><span class="string">:</span></span><br><span class="line">    <span class="comment"># allow all users (including non-authenticated users) to read and</span></span><br><span class="line">    <span class="comment"># publish all packages</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># you can specify usernames/groupnames (depending on your auth plugin)</span></span><br><span class="line">    <span class="comment"># and three keywords: "$all", "$anonymous", "$authenticated"</span></span><br><span class="line">    <span class="attr">access:</span> <span class="string">$all</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># allow all known users to publish/publish packages</span></span><br><span class="line">    <span class="comment"># (anyone can register by default, remember?)</span></span><br><span class="line">    <span class="attr">publish:</span> <span class="string">$authenticated</span></span><br><span class="line">    <span class="attr">unpublish:</span> <span class="string">$authenticated</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># if package is not available locally, proxy requests to 'npmjs' registry</span></span><br><span class="line">    <span class="attr">proxy:</span> <span class="string">npmjs</span></span><br><span class="line"></span><br><span class="line"><span class="attr">middlewares:</span></span><br><span class="line">  <span class="attr">audit:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># log settings</span></span><br><span class="line"><span class="attr">logs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#123;</span> <span class="attr">type:</span> <span class="string">stdout,</span> <span class="attr">format:</span> <span class="string">pretty,</span> <span class="attr">level:</span> <span class="string">http</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="comment">#- &#123;type: file, path: verdaccio.log, level: info&#125;</span></span><br><span class="line"><span class="comment">#experiments:</span></span><br><span class="line"><span class="comment">#  # support for npm token command</span></span><br><span class="line"><span class="comment">#  token: false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This affect the web and api (not developed yet)</span></span><br><span class="line"><span class="comment">#i18n:</span></span><br><span class="line"><span class="comment">#web: en-US</span></span><br></pre></td></tr></table></figure><ol start="2"><li><code>docker-compose</code> é…ç½®</li></ol><p>åˆ›å»º <code>Verdaccio/docker-compose.yml</code> æ–‡ä»¶, å†™å…¥å†…å®¹:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3.1'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">verdaccio:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">verdaccio/verdaccio</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">"verdaccio"</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">node-network</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">VERDACCIO_PORT=4873</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"4873:4873"</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"./storage:/verdaccio/storage"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"./config:/verdaccio/conf"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"./plugins:/verdaccio/plugins"</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">node-network:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><p>è¿›å…¥ <code>Verdaccio</code> ç›®å½•, æ‰§è¡Œ <code>$ docker-compose up -d</code> å³å¯å¯åŠ¨ <code>verdaccio</code> å®¹å™¨.</p><p>è¿™é‡Œæœ‰é‡åˆ°ä¸€ä¸ªé”™è¯¯, <code>$ docker logs verdaccio</code> å®¹å™¨å†…æ²¡æœ‰è®¿é—®æˆ‘ä»¬åˆ›å»ºçš„å­˜å‚¨ç›®å½•çš„æƒé™. æ¥åˆ° <code>Verdaccio</code> çš„ä¸Šå±‚ç›®å½•,<br>æ‰§è¡Œ <code>$ chown -R 10001:65533 Verdaccio/</code> å°†ä»“åº“æ‰€æœ‰è€…å˜æ›´ä¸ºå¯åŠ¨ <code>verdaccio</code> å®¹å™¨çš„ç”¨æˆ·(Verdaccio é»˜è®¤çš„ç”¨æˆ· ID),<br>ç„¶å <code>$ docker restart verdaccio</code> é‡å¯å®¹å™¨å³å¯.</p><p>æ­¤æ—¶æœåŠ¡ç«¯åŸºæœ¬é…ç½®å®Œæˆ, è®¿é—® <code>ip:4873</code>, åº”å¾—åˆ°å¦‚ä¸‹å†…å®¹</p><p><img src="/images/20200323/verdaccio_default.png" alt=""></p><p>NOTE: ä½¿ç”¨äº‘æœåŠ¡å™¨è¦æ³¨æ„ä¸»æœºçš„é˜²ç«å¢™å’Œæ§åˆ¶å°çš„é˜²ç«å¢™è¦æ‰“å¼€ 4873 ç«¯å£</p><h2 id="å®¢æˆ·ç«¯é…ç½®"><a href="#å®¢æˆ·ç«¯é…ç½®" class="headerlink" title="å®¢æˆ·ç«¯é…ç½®"></a>å®¢æˆ·ç«¯é…ç½®</h2><h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><h4 id="ä¸€æ¬¡æ€§åº”ç”¨"><a href="#ä¸€æ¬¡æ€§åº”ç”¨" class="headerlink" title="ä¸€æ¬¡æ€§åº”ç”¨"></a>ä¸€æ¬¡æ€§åº”ç”¨</h4><h5 id="é¢„å…ˆé…ç½®"><a href="#é¢„å…ˆé…ç½®" class="headerlink" title="é¢„å…ˆé…ç½®"></a>é¢„å…ˆé…ç½®</h5><p>ä¸ºç§æœ‰ä»“åº“æ·»åŠ è´¦æˆ·. æ‰§è¡Œä»¥ä¸‹å‘½ä»¤, å¹¶é”®å…¥è¦æ±‚çš„ä¿¡æ¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm adduser --registry http://ip:4873</span><br></pre></td></tr></table></figure><h5 id="å‘å¸ƒåŒ…"><a href="#å‘å¸ƒåŒ…" class="headerlink" title="å‘å¸ƒåŒ…"></a>å‘å¸ƒåŒ…</h5><p>è¿›å…¥è¦å‘å¸ƒçš„åŒ…ç›®å½•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm publish --registry http://ip:4873</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…åŒ…"><a href="#å®‰è£…åŒ…" class="headerlink" title="å®‰è£…åŒ…"></a>å®‰è£…åŒ…</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --registry http://ip:4873 packagename</span><br></pre></td></tr></table></figure><h5 id="åˆ é™¤åŒ…-å–æ¶ˆå‘å¸ƒ"><a href="#åˆ é™¤åŒ…-å–æ¶ˆå‘å¸ƒ" class="headerlink" title="åˆ é™¤åŒ…(å–æ¶ˆå‘å¸ƒ)"></a>åˆ é™¤åŒ…(å–æ¶ˆå‘å¸ƒ)</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm unpublish --force packagename</span><br></pre></td></tr></table></figure><h4 id="å…¨å±€åº”ç”¨é…ç½®"><a href="#å…¨å±€åº”ç”¨é…ç½®" class="headerlink" title="å…¨å±€åº”ç”¨é…ç½®"></a>å…¨å±€åº”ç”¨é…ç½®</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="built_in">set</span> registry http://ip:4873</span><br><span class="line">$ npm adduser --registry http://ip:4873</span><br><span class="line">$ npm profile <span class="built_in">set</span> password --registry http://ip:4873</span><br></pre></td></tr></table></figure><p>å…³äºå…¨å±€åº”ç”¨, ä¸‹é¢ä¼šæåŠ.</p><h3 id="yarn"><a href="#yarn" class="headerlink" title="yarn"></a>yarn</h3><p>ç¬”è€…æœªæ‰¾åˆ° Yarn å®˜æ–¹æä¾›çš„ä¸€æ¬¡æ€§ä½¿ç”¨æ–¹æ³•, ä½†æ˜¯åœ¨ <a href="https://stackoverflow.com/a/58480279" target="_blank" rel="noopener">StackOverflow</a> æ‰¾åˆ°ä¸€ç§æ–¹æ¡ˆ</p><h4 id="å‘å¸ƒåŒ…-1"><a href="#å‘å¸ƒåŒ…-1" class="headerlink" title="å‘å¸ƒåŒ…"></a>å‘å¸ƒåŒ…</h4><p>è¿›å…¥è¦å‘å¸ƒçš„åŒ…ç›®å½•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ YARN_REGISTRY=<span class="string">"http://ip:4873"</span> yarn publish</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…åŒ…-1"><a href="#å®‰è£…åŒ…-1" class="headerlink" title="å®‰è£…åŒ…"></a>å®‰è£…åŒ…</h4><p>è¿›å…¥è¦å‘å¸ƒçš„åŒ…ç›®å½•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ YARN_REGISTRY=<span class="string">"http://ip:4873"</span> yarn add packagename</span><br></pre></td></tr></table></figure><h4 id="å…¨å±€åº”ç”¨é…ç½®-1"><a href="#å…¨å±€åº”ç”¨é…ç½®-1" class="headerlink" title="å…¨å±€åº”ç”¨é…ç½®"></a>å…¨å±€åº”ç”¨é…ç½®</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn config <span class="built_in">set</span> registry http://ip:4873</span><br></pre></td></tr></table></figure><h3 id="å…³äºå…¨å±€åº”ç”¨"><a href="#å…³äºå…¨å±€åº”ç”¨" class="headerlink" title="å…³äºå…¨å±€åº”ç”¨"></a>å…³äºå…¨å±€åº”ç”¨</h3><p>ä½¿ç”¨ä¸€æ¬¡æ€§åº”ç”¨æ–¹æ³•å®‰è£…çš„åŒ…, åœ¨ç»Ÿä¸€æ‰§è¡Œå®‰è£…ä¾èµ–å‘½ä»¤ <code>$ npm install</code> ä¼šå‡ºéº»çƒ¦, å› ä¸ºåœ¨å®˜æ–¹ä»“åº“æ²¡æœ‰æˆ‘ä»¬å‘å¸ƒçš„åŒ….<br>ä½¿ç”¨å…¨å±€åº”ç”¨çš„æ–¹å¼, é…åˆæœåŠ¡ç«¯çš„ä¸Šæ¸¸ä»£ç†, å¯ä»¥å®ç°ç”¨æ­£å¸¸çš„å‘½ä»¤æ¥å®‰è£…ç§æœ‰å’Œå…¬å…±åŒ…. </p><p>Verdaccio é»˜è®¤é…ç½®ä¸Šæ¸¸ä»£ç†ä¸º <code>npmjs</code>, å®è·µä¸­å‘ç°å¦‚æœå®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯ yarn, å¯èƒ½ä¼šå‡ºç°éƒ¨åˆ†å…¬å…±åŒ…å®‰è£…å¤±è´¥çš„æƒ…å†µ,<br>æ‰€ä»¥ä½¿ç”¨ <code>yarnpkg</code> ä½œä¸ºä¸Šç«¯. é…ç½®æ–¹æ³•å¦‚ä¸‹</p><p>ç¼–è¾‘æœåŠ¡ç«¯ <code>Verdaccio/config/config.yaml</code></p><ol><li>åœ¨ <code>uplink</code> å—ä¸‹å¢åŠ  <code>yarnpkg</code> æº</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">yarnpkg:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://registry.yarnpkg.com/</span></span><br></pre></td></tr></table></figure><ol start="2"><li>ä¿®æ”¹ <code>packages</code> å—çš„å­é¡¹çš„ <code>proxy</code> å€¼</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy:</span> <span class="string">yarnpkg</span></span><br></pre></td></tr></table></figure><p>ä¿å­˜å, ä½¿ç”¨ <code>$ docker restart verdaccio</code> é‡å¯ <code>verdaccio</code> å®¹å™¨, å®Œæˆ.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæ­å»º V2ray</title>
      <link href="/2020/03/22/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%20V2ray/"/>
      <url>/2020/03/22/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%20V2ray/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.v2ray.com/chapter_00/install.html" target="_blank" rel="noopener">å®˜ç½‘</a></p><p>V2ray å½“å‰å¾ˆæµè¡Œ, ç›¸æ¯” ss æ›´ä¸å®¹æ˜“è¢« ban. è¿™ç©æ„åŠŸèƒ½å¾ˆå¼ºå¤§, é…ç½®é¡¹å¤ªå¤šäº†, å’±ä¸€æ—¶åŠä¼šå„¿ä¹Ÿæä¸æ¸…æ¥šå•Š, å…ˆæ¥ä¸ªæœ€åŸºæœ¬çš„é…ç½®, å®‰æ’ä¸Šå†è¯´å§</p><a id="more"></a><h2 id="Linux-ä¸€é”®å®‰è£…"><a href="#Linux-ä¸€é”®å®‰è£…" class="headerlink" title="Linux ä¸€é”®å®‰è£…"></a>Linux ä¸€é”®å®‰è£…</h2><p>å®˜æ–¹çš„å—·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bash &lt;(curl -L -s https://install.direct/go.sh)</span><br></pre></td></tr></table></figure><h2 id="ç®€å•çš„é…ç½®"><a href="#ç®€å•çš„é…ç½®" class="headerlink" title="ç®€å•çš„é…ç½®"></a>ç®€å•çš„é…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/v2ray/config.json</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"log"</span>: &#123;</span><br><span class="line">        <span class="attr">"access"</span>: <span class="string">"/var/log/v2ray/access.log"</span>,</span><br><span class="line">        <span class="attr">"error"</span>: <span class="string">"/var/log/v2ray/error.log"</span>,</span><br><span class="line">        <span class="attr">"loglevel"</span>: <span class="string">"warning"</span></span><br><span class="line">    &#125;,</span><br><span class="line">  <span class="attr">"inbounds"</span>: [&#123;</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">10086</span>,</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;</span><br><span class="line">      <span class="attr">"clients"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,</span><br><span class="line">          <span class="attr">"level"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"alterId"</span>: <span class="number">64</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [&#123;</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;&#125;</span><br><span class="line">  &#125;,&#123;</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"blackhole"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">"tag"</span>: <span class="string">"blocked"</span></span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"routing"</span>: &#123;</span><br><span class="line">    <span class="attr">"rules"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"ip"</span>: [<span class="string">"geoip:private"</span>],</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"blocked"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥ç”¨ <a href="https://intmainreturn0.com/v2ray-config-gen/" target="_blank" rel="noopener">ç”Ÿæˆå™¨</a> ç”Ÿæˆ</p><p>æ”¹å®Œé…ç½® <code>systemctl restart v2ray</code> å°±å®Œäº‹äº†, ç„¶åå®¢æˆ·ç«¯å®‰æ’</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Mac ç«¯ä½¿ç”¨ Qt æ„å»º RDM è®°å½•</title>
      <link href="/2020/03/21/Mac%20%E7%AB%AF%E4%BD%BF%E7%94%A8%20Qt%20%E6%9E%84%E5%BB%BA%20RDM%20%E8%AE%B0%E5%BD%95/"/>
      <url>/2020/03/21/Mac%20%E7%AB%AF%E4%BD%BF%E7%94%A8%20Qt%20%E6%9E%84%E5%BB%BA%20RDM%20%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p><a href="https://redisdesktop.com/" target="_blank" rel="noopener">RDM</a> æ˜¯ä¸€æ¬¾æ–¹ä¾¿, é«˜æ€§èƒ½çš„ redis gui å·¥å…·, åœ¨æˆ‘ç”¨è¿‡çš„ä¸ºæ•°ä¸å¤šçš„ redis å·¥å…·ä¸­, æˆ‘è§‰å¾—ä»–çš„æœ€å¥½ç”¨çš„ç‚¹å°±æ˜¯<br>å®ƒä½¿ç”¨æ ‘å½¢ç»“æ„æ˜¾ç¤º key, æŸ¥æ‰¾éå¸¸æ–¹ä¾¿.</p><p>è¿™æ¬¾å·¥å…·ä½¿ç”¨äº†è®¢é˜…åˆ¶, ä½†æ˜¯ç”¨æˆ·å¯ä»¥å…è´¹å¾—åˆ°ä»–çš„æºç . è¿™é‡Œæ˜¯ä¸€ä¸ª Qt å’Œ C çš„å°ç™½ä»æºç æ„å»º mac ç«¯ RDM åº”ç”¨çš„æ–¹æ³•</p><a id="more"></a><ol><li>ä» github å…‹éš† rdm æºç </li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone --recursive https:&#x2F;&#x2F;github.com&#x2F;uglide&#x2F;RedisDesktopManager.git -b 0.9.8 rdm &amp;&amp; cd .&#x2F;rdm</span><br></pre></td></tr></table></figure><p>â€“recursive å‚æ•°ä½¿å…¶é™„å¸¦äº†ä¾èµ–é¡¹çš„ä»“åº“</p><p>æŒ‡å®š 0.9.8 åˆ†æ”¯æ˜¯å› ä¸ºå…¶åçš„ç‰ˆæœ¬ä¸å¸¦ ssh äº†??? </p><ol start="2"><li>æé…ç½®æ–‡ä»¶</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd .&#x2F;src &amp;&amp; cp .&#x2F;resources&#x2F;Info.plist.sample .&#x2F;resources&#x2F;Info.plist</span><br></pre></td></tr></table></figure><ol start="3"><li>ç¼–è¯‘</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ .&#x2F;configure</span><br></pre></td></tr></table></figure><p>ä¾èµ– <code>cmake</code> å’Œ <code>openssl</code>, å¦‚æœªå®‰è£…, å…ˆä½¿ç”¨ <code>brew</code> å®‰è£…å®ƒä»¬.</p><blockquote><p>å¯èƒ½å‡ºç° <code>error: Compiling for earlier than macOS 10.6 is no longer supported.</code> é”™è¯¯, è§£å†³æ–¹æ³•æ˜¯: ä½¿ç”¨ xcode æ‰“å¼€ <code>3rdparty/gbreakpad/src/client/mac/sender/Breakpad.xib</code> æ–‡ä»¶, åœ¨å³ä¾§æ‰¾åˆ° <code>Builds for</code> é€‰é¡¹, é€‰æ‹©ä¸€ä¸ªæœ€è¿‘çš„ macos ç‰ˆæœ¬.</p></blockquote><blockquote><p>å¯èƒ½å‡ºç° <code>Error: openssl already installed</code> é”™è¯¯. è§£å†³åŠæ³•æ˜¯ç¼–è¾‘ <code>src/configure</code>, ç”¨ <code>#</code> æ³¨é‡Š <code>brew upgrade openssl || brew install openssl || true</code> è¡Œ, è¿˜æœ‰æ³¨æ„  <code>OPENSSL_ROOT_DIR</code> è¦æ˜¯æ­£ç¡®çš„.</p></blockquote><ol start="4"><li>Qtæ„å»º</li></ol><p>ä½¿ç”¨ Qt æ‰“å¼€ <code>src/rdm.pro</code> , ç„¶ååœ¨ Qt ä¸­ç¼–è¾‘ <code>rdm.pro</code> æ–‡ä»¶, æ‰¾åˆ° <code>CONFIG-=app_bundle</code> æ›´æ”¹ä¸º <code>CONFIG-=debug</code>. è¿™ä¸€æ­¥æ˜¯ä¸ºäº†ä½¿æ„å»ºåç”Ÿæˆ .app ç¨‹åºä¸ºæ–‡ä»¶.</p><p>ç„¶å ç‚¹å‡» <code>é¡¹ç›® &gt; Desktop...</code>, ç„¶åæ„å»ºé…ç½®é€‰æ‹© <code>Release</code>, ç„¶åç‚¹å‡»å·¦ä¸‹è§’çš„é”¤å­æ ‡å¿—å¼€å§‹æ„å»º.</p><blockquote><p>è¿™æ—¶å¯èƒ½ä¼šå‡ºç°æ‰¾ä¸åˆ° <code>crashreporter</code> çš„é”™è¯¯, ä¸‹è½½å®ƒç„¶åæ”¾åˆ° æ„å»ºè¾“å‡ºç›®å½•( <code>bin/osx/release/</code> )ä¸‹, å†æ¬¡å¼€å§‹æ„å»º.</p></blockquote><p>æ„å»ºå®Œæˆå, å¯ä»¥åœ¨ <code>bin/osx/release/</code> ç›®å½•ä¸‹æ‰¾åˆ° rdm äº†, æ­¤æ—¶è¿™ä¸ªç¨‹åºåªèƒ½åœ¨æœ¬æœºè¿è¡Œ, å› ä¸ºè¿™ä¸ª app ä¸­æœªåŒ…å«ä¾èµ–é¡¹.</p><ol start="5"><li>æ··å…¥ä¾èµ–</li></ol><p>ä½¿ç”¨ Qt è‡ªå¸¦çš„å·¥å…·ä¸º app æ··å…¥ä¾èµ–.</p><p>åœ¨æ„å»ºå‡ºçš„ rdm.app ç›®å½•ä¸­æ‰§è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ~&#x2F;Qt&#x2F;5.11.0&#x2F;clang_64&#x2F;bin&#x2F;macdeployqt rdm.app -qmldir&#x3D;..&#x2F;..&#x2F;..&#x2F;src&#x2F;qml</span><br></pre></td></tr></table></figure><p>å®Œæˆå,  rdm.app å°±å¯ä»¥ä½¿ç”¨äº†.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CRA èµ·æ‰‹çš„é¡¹ç›®éƒ¨ç½²åœ¨éæ ¹ç›®å½•</title>
      <link href="/2020/03/21/CRA%E8%B5%B7%E6%89%8B%E7%9A%84%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%9D%9E%E6%A0%B9%E7%9B%AE%E5%BD%95/"/>
      <url>/2020/03/21/CRA%E8%B5%B7%E6%89%8B%E7%9A%84%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%9D%9E%E6%A0%B9%E7%9B%AE%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>é¡¹ç›®é‡åˆ°è¦æ”¾åˆ°æœåŠ¡ç«¯éæ ¹ç›®å½•çš„æƒ…å†µ, cra å’Œ antd é»˜è®¤çš„é…ç½®ç›´æ¥æ”¾çš„è¯ä¼šå¯¼è‡´ä¸€äº›èµ„æºåŠ è½½é”™è¯¯,<br>éœ€è¦æ›´æ”¹ä¸€äº›é…ç½®.</p><a id="more"></a><ol><li>åœ¨ <code>package.json</code> ä¸­ä½¿ç”¨ <code>homepage</code> å­—æ®µæŒ‡å®šé™æ€æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„, å¦‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;homepage&quot;: &quot;http:&#x2F;&#x2F;localhost:8000&#x2F;build&quot;</span><br></pre></td></tr></table></figure><p>åœ¨åŠ è½½é™æ€èµ„æºæ—¶, å°†æ­¤åœ°å€è§†ä¸ºè·Ÿç›®å½•</p><ol start="2"><li>å¦‚æœä½¿ç”¨äº†å‰ç«¯å•é¡µè·¯ç”±, åº”æ›¿æ¢æ‰ <code>&lt;Router&gt;</code>, å¯ä»¥ä½¿ç”¨ <code>&lt;BrowserRouter&gt;</code>, å¹¶è®¾ç½® <code>basename</code> å±æ€§, å®ƒæ˜¯æ‰€æœ‰ä½ç½®çš„åŸºæœ¬URLã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯ä»æœåŠ¡å™¨ä¸Šçš„å­ç›®å½•æä¾›çš„ï¼Œåˆ™éœ€è¦å°†å…¶è®¾ç½®ä¸ºå­ç›®å½•ã€‚æ ¼å¼æ­£ç¡®çš„åŸºæœ¬åç§°åº”è¯¥æœ‰ä¸€ä¸ªå‰å¯¼æ–œæ ï¼Œä½†æ²¡æœ‰å°¾éƒ¨æ–œæ </li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;BrowserRouter</span><br><span class="line">  basename&#x3D;&quot;&#x2F;build&quot;</span><br><span class="line">  history&#x3D;&#123;AppHistory&#125;</span><br><span class="line">&gt;</span><br><span class="line">    ....</span><br><span class="line">&lt;&#x2F;BrowserRouter&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœå‰ç«¯èµ„æºä¸æ˜¯ç›´æ¥æ”¾åœ¨é™æ€æœåŠ¡å™¨ä¸­, è€Œæ˜¯æ”¾åœ¨åç«¯æ¡†æ¶çš„é™æ€èµ„æºç›®å½•ä¸‹(å¦‚ php laravel çš„ <code>public</code> ç›®å½•), ä½¿ç”¨ <code>BrowserRouter</code> ä¼šæœ‰ <code>404</code> é”™è¯¯, å¯ä»¥ä½¿ç”¨ <code>HashRouter</code></p><p>NOTE: å“¦??? ä½¿ç”¨ <code>HashRouter</code> ä¹‹åå‘ç°è²Œä¼¼ä¸éœ€è¦è®¾ç½® <code>basename</code> äº†â€¦</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ devServer ä¸­ä½¿ç”¨å¤šä¸ª env çš„æ–¹æ³•</title>
      <link href="/2019/04/20/%E5%89%8D%E7%AB%AFdevserver%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AAenv%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2019/04/20/%E5%89%8D%E7%AB%AFdevserver%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AAenv%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>é¡¹ç›®ä¸­é‡åˆ°éœ€è¦é’ˆå¯¹å¤šå¥—æ¼”ç¤ºç¯å¢ƒæ¥ build, æ¯å¥—ç¯å¢ƒéœ€è¦ä½¿ç”¨ä¸åŒçš„å˜é‡çš„é—®é¢˜.<br>æ¯”å¦‚ä¸åŒçš„ç¯å¢ƒä½¿ç”¨äº†ä¸åŒçš„ api ç«¯å£.</p><a id="more"></a><p>åœ¨ package.json ä¸­</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"sh -ac '. .env.dev; react-app-rewired start'"</span>,</span><br><span class="line">    <span class="attr">"build:newsta"</span>: <span class="string">"sh -ac '. .env.newsta; react-app-rewired build'"</span>,</span><br><span class="line">    <span class="attr">"build:release"</span>: <span class="string">"sh -ac '. .env.release; react-app-rewired build'"</span>,</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"react-app-rewired test --env=jsdom"</span>,</span><br><span class="line">    <span class="attr">"eject"</span>: <span class="string">"react-scripts eject"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ—¶åˆ›å»ºç›¸åº”çš„ .env æ–‡ä»¶, å³å¯åœ¨ä½¿ç”¨ä¸åŒå‘½ä»¤æ—¶ä½¿ç”¨ä¸åŒçš„ env<br>å¦‚ä½¿ç”¨ <code>yarn start</code> å‘½ä»¤ä½¿ç”¨çš„æ˜¯ <code>.env.dev</code><br>ä½¿ç”¨ <code>yarn build:release</code> å‘½ä»¤ä½¿ç”¨çš„æ˜¯ <code>.env.release</code></p><h2 id="æ›´æ–°-CRAå®˜ç½‘å¯»æ‰¾åˆ°çš„æ–¹æ¡ˆ-æ”¯æŒ-Windows-å¼€å‘ç¯å¢ƒ"><a href="#æ›´æ–°-CRAå®˜ç½‘å¯»æ‰¾åˆ°çš„æ–¹æ¡ˆ-æ”¯æŒ-Windows-å¼€å‘ç¯å¢ƒ" class="headerlink" title="æ›´æ–°: CRAå®˜ç½‘å¯»æ‰¾åˆ°çš„æ–¹æ¡ˆ, æ”¯æŒ Windows å¼€å‘ç¯å¢ƒ"></a>æ›´æ–°: CRAå®˜ç½‘å¯»æ‰¾åˆ°çš„æ–¹æ¡ˆ, æ”¯æŒ Windows å¼€å‘ç¯å¢ƒ</h2><p>ä½¿ç”¨ <code>env-cmd</code> å¸®åŠ©å»ºç«‹ env, åœ¨ <code>package.json</code> ä¸­:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "env-cmd -f .env.dev react-app-rewired start",</span><br><span class="line">  "build": "env-cmd -f .env.build react-app-rewired build",</span><br><span class="line">  "test": "react-scripts test",</span><br><span class="line">  "eject": "react-scripts eject"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Command line proxy alias</title>
      <link href="/2019/03/07/commandLineProxyAlias/"/>
      <url>/2019/03/07/commandLineProxyAlias/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ç»ˆç«¯ä¸­, é»˜è®¤æ˜¯ä¸èµ°ä»£ç†çš„, éœ€è¦æ‰‹åŠ¨æŒ‡å®šä»£ç†. æ¯æ¬¡æ‰‹æ‰“å‘½ä»¤å¤ªéº»çƒ¦, æŠŠå‘½ä»¤å¼„æˆåˆ«å, æ–¹ä¾¿è°ƒç”¨</p><a id="more"></a><p>Put into ~/.zshrc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ss=<span class="string">"export http_proxy=http://127.0.0.1:8001; export https_proxy=http://127.0.0.1:8001;"</span></span><br><span class="line"><span class="built_in">alias</span> uss=<span class="string">"unset http_proxy;unset https_proxy;"</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œ <code>$ source ~/.zshrc</code> ä½¿å…¶ç«‹å³ç”Ÿæ•ˆ</p><p>ä½¿ç”¨ <code>$ ss</code> å‘½ä»¤å³å¯ä½¿ç”¨ä»£ç†, ä½¿ç”¨ <code>$ uss</code> å–æ¶ˆä»£ç†</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>igakki.com ä½¿ç”¨ https è®°å½•</title>
      <link href="/2018/08/01/igakki.com%E4%BD%BF%E7%94%A8https%E8%AE%B0%E5%BD%95/"/>
      <url>/2018/08/01/igakki.com%E4%BD%BF%E7%94%A8https%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>ä¹‹å‰ blog æ²¡æ”¾åœ¨ GitPages, æ˜¯åœ¨ VPS ä¸Šæ‰‹åŠ¨æ­å»ºçš„ Wordpress, è¿™é‡Œä»‹ç»å½“æ—¶ç»™æˆ˜ç«™ç‚¹ä¸Š HTTPS çš„æ–¹æ³•.</p><a id="more"></a><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><ul><li>centos 7</li><li>nginx</li><li>wordpress</li></ul><h2 id="å‚è€ƒæ•™ç¨‹"><a href="#å‚è€ƒæ•™ç¨‹" class="headerlink" title="å‚è€ƒæ•™ç¨‹"></a>å‚è€ƒæ•™ç¨‹</h2><p><a href="https://certbot.eff.org/lets-encrypt/centosrhel7-nginx" target="_blank" rel="noopener">é“¾æ¥</a></p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><ol><li>å¯ç”¨ EPEL</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y yum-utils</span><br><span class="line">$ yum-config-manager --<span class="built_in">enable</span> rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional</span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£… Certbot</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install python2-certbot-nginx</span><br></pre></td></tr></table></figure><ol start="3"><li>ç”Ÿæˆå¹¶è‡ªåŠ¨é…ç½®è¯ä¹¦</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ certbot --nginx</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§æç¤ºè¾“å…¥ç›¸åº”ä¿¡æ¯å³å¯è‡ªåŠ¨å®Œæˆé…ç½®</p><p>è‹¥æƒ³è¦ç”Ÿæˆè¯ä¹¦åæ‰‹åŠ¨é…ç½®, ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ certbot --nginx certonly</span><br></pre></td></tr></table></figure><ol start="4"><li>ç»­è®¢è¯ä¹¦<br>è¯ä¹¦å¯ç”¨ 90 å¤©, ç»­è®¢</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ certbot renew</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹: åœ¨æ¯å¤©çš„ä¸­åˆå’Œåˆå¤œè‡ªåŠ¨ç»­è®¢</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 0 0,12 * * * python -c <span class="string">'import random; import time; time.sleep(random.random() * 3600)'</span> &amp;&amp; certbot renew</span><br></pre></td></tr></table></figure><h2 id="å¯èƒ½å‡ºç°çš„é—®é¢˜"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜</h2><ol><li>ä¸è¦å¿˜è®°åœ¨é˜²ç«å¢™æ‰“å¼€ 443 ç«¯å£</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure><p>è¡¥å……å¦‚ä¸‹ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 443 -j ACCEPT</span><br></pre></td></tr></table></figure><p>ä¿å­˜åé‡å¯é˜²ç«å¢™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl restart iptables.service</span><br></pre></td></tr></table></figure><ol start="2"><li>æµè§ˆå™¨æç¤ºè¯ä¹¦ä¸å®‰å…¨</li></ol><p>æ£€æŸ¥ fullchain.pem (å…·ä½“è·¯å¾„åœ¨å®‰è£…å®Œæˆæ—¶æœ‰æç¤º)ä¸­æ˜¯å¦åŒ…å«äº†ä¸­é—´è¯ä¹¦<br>å®‰è£…è¯ä¹¦æ—¶è¾“å…¥çš„ domain ä¸ç½‘ç«™ DNS Aè®°å½• (æˆ–è€…è¯´ nginx é…ç½®çš„ server_name ?) æ˜¯å¦åŒ¹é… (ä¸èƒ½åªç”¨æ ¹åŸŸå, æ¯”å¦‚ <a href="http://www.igakki.com">www.igakki.com</a> ä¸èƒ½å¡«å†™ igakki.com, è™½ç„¶éƒ½èƒ½è®¿é—®)</p><h2 id="ä¸€ä¸ªè‡ªåŠ¨é…ç½®åçš„-nginx-é…ç½®"><a href="#ä¸€ä¸ªè‡ªåŠ¨é…ç½®åçš„-nginx-é…ç½®" class="headerlink" title="ä¸€ä¸ªè‡ªåŠ¨é…ç½®åçš„ nginx é…ç½®"></a>ä¸€ä¸ªè‡ªåŠ¨é…ç½®åçš„ nginx é…ç½®</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    server_name  www.igakki.com;</span><br><span class="line"></span><br><span class="line">    #charset koi8-r;</span><br><span class="line">    #access_log  &#x2F;var&#x2F;log&#x2F;nginx&#x2F;host.access.log  main;</span><br><span class="line"></span><br><span class="line">    root   &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html&#x2F;wordpress;</span><br><span class="line">    index  index.html index.htm index.php;</span><br><span class="line"></span><br><span class="line">    #error_page  404              &#x2F;404.html;</span><br><span class="line"></span><br><span class="line">    # redirect server error pages to the static page &#x2F;50x.html</span><br><span class="line">    #</span><br><span class="line">    error_page   500 502 503 504  &#x2F;50x.html;</span><br><span class="line">    location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">        root   &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br><span class="line">    #</span><br><span class="line">    #location ~ \.php$ &#123;</span><br><span class="line">    #    proxy_pass   http:&#x2F;&#x2F;127.0.0.1;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">    #</span><br><span class="line">    location ~ \.php$ &#123;</span><br><span class="line">        fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        fastcgi_index  index.php;</span><br><span class="line">        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;</span><br><span class="line">        include        fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # deny access to .htaccess files, if Apache&#39;s document root</span><br><span class="line">    # concurs with nginx&#39;s one</span><br><span class="line">    #</span><br><span class="line">    #location ~ &#x2F;\.ht &#123;</span><br><span class="line">    #    deny  all;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">    listen 443 ssl; # managed by Certbot</span><br><span class="line">    ssl_certificate &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;www.igakki.com&#x2F;fullchain.pem; # managed by Certbot</span><br><span class="line">    ssl_certificate_key &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;www.igakki.com&#x2F;privkey.pem; # managed by Certbot</span><br><span class="line">    include &#x2F;etc&#x2F;letsencrypt&#x2F;options-ssl-nginx.conf; # managed by Certbot</span><br><span class="line">    ssl_dhparam &#x2F;etc&#x2F;letsencrypt&#x2F;ssl-dhparams.pem; # managed by Certbot</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    if ($host &#x3D; www.igakki.com) &#123;</span><br><span class="line">        return 301 https:&#x2F;&#x2F;$host$request_uri;</span><br><span class="line">    &#125; # managed by Certbot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    if ($host &#x3D; igakki.com) &#123;</span><br><span class="line">        return 301 https:&#x2F;&#x2F;$host$request_uri;</span><br><span class="line">    &#125; # managed by Certbot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  www.igakki.com;</span><br><span class="line">    return 404; # managed by Certbot</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ VSCode ä¸­ä½¿ç”¨ cmder</title>
      <link href="/2018/01/27/%E5%9C%A8VSCode%E4%B8%AD%E4%BD%BF%E7%94%A8cmder/"/>
      <url>/2018/01/27/%E5%9C%A8VSCode%E4%B8%AD%E4%BD%BF%E7%94%A8cmder/</url>
      
        <content type="html"><![CDATA[<p>cmder æ˜¯ windows å¹³å°ç”¨æ¥ä»£æ›¿ cmd å’Œ powershell çš„å¾ˆå¥½çš„å·¥å…·, å¯¹äºä¹ æƒ¯æ“ä½œ Linux çš„äººæ¥è¯´è¦é¡ºæ‰‹è®¸å¤š.<br>è¿™é‡Œä»‹ç»çš„æ˜¯å¦‚ä½•åœ¨ VSCode ä¸­è°ƒç”¨ cmder.</p><a id="more"></a><p>ä¸‹è½½ cmder ,å°†å…¶è§£å‹åˆ°è¦å®‰è£…çš„ç›®å½•.<br>è®¾ç½® <code>cmder.exe</code> ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ, é˜²æ­¢ä½¿ç”¨ä¸­æƒé™ä¸è¶³. å³é”® <code>cmder.exe</code> &gt; å±æ€§ &gt; å…¼å®¹æ€§ , å‹¾é€‰ <code>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œæ­¤ç¨‹åº</code> &gt; ç¡®å®š .</p><p>åœ¨ <code>cmder.exe</code> åŒçº§ç›®å½•ä¸‹, æ–°å»º <code>vscode.bat</code> æ–‡ä»¶, è¾“å…¥ä»¥ä¸‹å†…å®¹:</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">SET</span> CMDER_ROOT=C:\Program Files (x86)\cmder     #è¿™é‡Œæ˜¯ cmder çš„å®‰è£…è·¯å¾„</span><br><span class="line">"<span class="variable">%CMDER_ROOT%</span>\vendor\init.bat"</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ VScode , é€‰æ‹© æ–‡ä»¶ &gt; é¦–é€‰é¡¹ &gt; è®¾ç½® , æ·»åŠ å¦‚ä¸‹é€‰é¡¹:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"terminal.integrated.shell.windows": "C:\\Windows\\System32\\cmd.exe",</span><br><span class="line">"terminal.integrated.shellArgs.windows": [</span><br><span class="line">    "/K",</span><br><span class="line">    "C:\\Program Files (x86)\\cmder\\vscode.bat"        #åˆšæ‰æ–°å»ºçš„ vscode.bat çš„è·¯å¾„, æ³¨æ„æ–œçº¿ä½ç½®è¦æœ‰è½¬ä¹‰ç¬¦</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p><code>ctrl + s</code> ä¿å­˜å, æŒ‰ <code>ctrl + ~</code> æ‰“å¼€ vscode ç»ˆç«¯, ç‚¹å‡»å³ä¾§çš„åƒåœ¾æ¡¶(ç»ˆæ­¢ç»ˆç«¯)æ ‡å¿—å°†ç›®å‰çš„ç»ˆç«¯çª—å£åˆ é™¤, ç„¶åæŒ‰åŠ å·(æ–°å»ºç»ˆç«¯)æ–°å»ºç»ˆç«¯, æ–°å»ºçš„ç»ˆç«¯å°±è°ƒç”¨ cmder äº†.</p><ul><li>cmder ç¯å¢ƒå˜é‡é—®é¢˜</li></ul><p>æˆ‘ä»¬åœ¨ windows ç³»ç»Ÿè®¾ç½®ä¸­æ‰‹åŠ¨å®šä¹‰ç¯å¢ƒå˜é‡å, åœ¨ cmd ä¸­å¯ä»¥æ­£å¸¸ä½¿ç”¨, ä½†æ˜¯åœ¨ cmder ä¸­ä¸èƒ½ä½¿ç”¨, è¦å•ç‹¬åœ¨ cmder çš„è®¾ç½®ä¸­å®šä¹‰æ‰å¯ä»¥, å¾ˆéº»çƒ¦.<br>è§£å†³æ–¹æ³•æ˜¯, åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­, æ·»åŠ  cmder çš„è·¯å¾„, å¹¶å°†å…¶é¡ºåºå‘ä¸Šç§»åŠ¨åˆ°ç¬¬ä¸€é¡ºä½.<br>è¿™æ ·åœ¨ä¸‹é¢å®šä¹‰çš„ç¯å¢ƒå˜é‡å°±éƒ½å¯ä»¥åœ¨ cmder ä¸­ä½¿ç”¨äº†.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº› JS</title>
      <link href="/2018/01/22/%E4%B8%80%E4%BA%9Bjs/"/>
      <url>/2018/01/22/%E4%B8%80%E4%BA%9Bjs/</url>
      
        <content type="html"><![CDATA[<p>æ•´ç†ä¸€äº›å¸¸ç”¨çš„ js æ–¹æ³• </p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * æ•°ç»„å»é‡</span><br><span class="line"> *</span><br><span class="line"> **&#x2F;</span><br><span class="line">function unique (arr) &#123;</span><br><span class="line">    const seen &#x3D; new Map()</span><br><span class="line">    return arr.filter((a) &#x3D;&gt; !seen.has(a - 0) &amp;&amp; seen.set(a - 0, 1))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * æ’å…¥æ’åº</span><br><span class="line"> *</span><br><span class="line"> **&#x2F;</span><br><span class="line">function insertSort (arr) &#123;</span><br><span class="line">    let len &#x3D; arr.length;</span><br><span class="line">    for (let i &#x3D; 1; i &lt; len; i++) &#123;</span><br><span class="line">        let temp &#x3D; arr[i],</span><br><span class="line">            j;</span><br><span class="line">        for (j &#x3D; i - 1; j &gt;&#x3D; 0 &amp;&amp; temp &lt; arr[j]; j--) &#123;</span><br><span class="line">            arr[j + 1] &#x3D; arr[j];</span><br><span class="line">        &#125;</span><br><span class="line">        arr[j + 1] &#x3D; temp;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * è·å–urlå‚æ•°</span><br><span class="line"> *</span><br><span class="line"> **&#x2F;</span><br><span class="line">let url &#x3D; window.location.search;</span><br><span class="line">    url &#x3D; url.substring(url.indexOf(&#39;?&#39;) + 1, url.length);</span><br><span class="line">function getQueryString(name) &#123;</span><br><span class="line">    let reg &#x3D; new RegExp(&quot;(^|&amp;)&quot; + name + &quot;&#x3D;([^&amp;]*)(&amp;|$)&quot;, &quot;i&quot;);</span><br><span class="line">    let r &#x3D; url.match(reg);</span><br><span class="line">    if (r !&#x3D; null) return (r[2]);</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * å»æ‰å­—ç¬¦ä¸²ä¸­çš„ html æ ‡ç­¾</span><br><span class="line"> **&#x2F;</span><br><span class="line">str &#x3D; str.replace(&#x2F;&lt;[^&gt;]+&gt;&#x2F;g, &quot;&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * åŸç”Ÿæ–¹æ³•æ ¼å¼åŒ–æ—¶é—´</span><br><span class="line"> **&#x2F;</span><br><span class="line">const dateTimeString &#x3D; new Intl.DateTimeFormat(&#39;zh&#39;,&#123;</span><br><span class="line">    hour12: false,</span><br><span class="line">    year: &#39;numeric&#39;,</span><br><span class="line">    month: &#39;2-digit&#39;,</span><br><span class="line">    day: &#39;2-digit&#39;,</span><br><span class="line">    hour: &#39;2-digit&#39;,</span><br><span class="line">    minute: &#39;2-digit&#39;,</span><br><span class="line">    second: &#39;2-digit&#39;</span><br><span class="line">&#125;).format(new Date()).replace(&#x2F;\&#x2F;&#x2F;g, &#39;-&#39;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LNMP ç¯å¢ƒé…ç½®</title>
      <link href="/2017/09/08/LNMP/"/>
      <url>/2017/09/08/LNMP/</url>
      
        <content type="html"><![CDATA[<p>æ‰‹åŠ¨é…ç½® LNMP ç¯å¢ƒçš„è®°å½•</p><a id="more"></a><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ol><li>é…ç½®é˜²ç«å¢™ï¼Œå¼€å¯80ç«¯å£ã€3306ç«¯å£</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Â rmÂ -rfÂ /etc/sysconfig/iptables</span><br><span class="line">$Â viÂ /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">############Â æ·»åŠ å¥½ä¹‹åé˜²ç«å¢™###########################</span><br><span class="line">#Â FirewallÂ configurationÂ writtenÂ byÂ system-config-firewall</span><br><span class="line">#Â ManualÂ customizationÂ ofÂ thisÂ fileÂ isÂ notÂ recommended.</span><br><span class="line">*filter</span><br><span class="line">:INPUTÂ ACCEPTÂ [0:0]</span><br><span class="line">:FORWARDÂ ACCEPTÂ [0:0]</span><br><span class="line">:OUTPUTÂ ACCEPTÂ [0:0]</span><br><span class="line">-AÂ INPUTÂ -mÂ stateÂ â€“stateÂ ESTABLISHED,RELATEDÂ -jÂ ACCEPT</span><br><span class="line">-AÂ INPUTÂ -pÂ icmpÂ -jÂ ACCEPT</span><br><span class="line">-AÂ INPUTÂ -iÂ loÂ -jÂ ACCEPT</span><br><span class="line">-AÂ INPUTÂ -mÂ stateÂ â€“stateÂ NEWÂ -mÂ tcpÂ -pÂ tcpÂ â€“dportÂ 22Â -jÂ ACCEPT</span><br><span class="line">-AÂ INPUTÂ -mÂ stateÂ â€“stateÂ NEWÂ -mÂ tcpÂ -pÂ tcpÂ â€“dportÂ 80Â -jÂ ACCEPT</span><br><span class="line">-AÂ INPUTÂ -mÂ stateÂ â€“stateÂ NEWÂ -mÂ tcpÂ -pÂ tcpÂ â€“dportÂ 3306Â -jÂ ACCEPT</span><br><span class="line">-AÂ INPUTÂ -jÂ REJECTÂ â€“reject-withÂ icmp-host-prohibited</span><br><span class="line">-AÂ FORWARDÂ -jÂ REJECTÂ â€“reject-withÂ icmp-host-prohibited</span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure><p><code>$ :wq</code> ä¿å­˜é€€å‡ºå,  é‡å¯é˜²ç«å¢™ä½¿é…ç½®ç”Ÿæ•ˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â /etc/init.d/iptablesÂ restart</span><br></pre></td></tr></table></figure><ol start="2"><li>å…³é—­SELINUX</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Â rmÂ -rfÂ /etc/selinux/config</span><br><span class="line">$Â viÂ /etc/selinux/config</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä¸€è¡Œå†…å®¹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELINUX&#x3D;disabled</span><br></pre></td></tr></table></figure><p><code>:wq</code> ä¿å­˜é€€å‡º</p><p>é‡å¯ç³»ç»Ÿ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â shutdownÂ -rÂ now</span><br></pre></td></tr></table></figure><ol start="3"><li>å®‰è£…ç¬¬ä¸‰æ–¹yumæº</li></ol><p>å®‰è£…ä¸‹è½½å·¥å…·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ installÂ wget</span><br></pre></td></tr></table></figure><p>ä¸‹è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â wgetÂ http://www.atomicorp.com/installers/atomic</span><br></pre></td></tr></table></figure><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â shÂ ./atomic</span><br></pre></td></tr></table></figure><p>æ›´æ–°yumæº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ check-update</span><br></pre></td></tr></table></figure><h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h2><h3 id="å®‰è£…nginx"><a href="#å®‰è£…nginx" class="headerlink" title="å®‰è£…nginx"></a>å®‰è£…nginx</h3><ol><li>åˆ é™¤ç³»ç»Ÿè‡ªå¸¦çš„è½¯ä»¶åŒ…</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ removeÂ httpd*Â php*</span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£…nginx</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ installÂ -yÂ nginx</span><br></pre></td></tr></table></figure><ol start="3"><li>è®¾ç½®nginxå¼€æœºå¯åŠ¨</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â chkconfigÂ nginxÂ on</span><br></pre></td></tr></table></figure><ol start="4"><li>å¯åŠ¨nginx</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â serviceÂ nginxÂ start</span><br></pre></td></tr></table></figure><ol start="5"><li>å¦‚æœå¯åŠ¨æ—¶å‡ºç°80ç«¯å£97é”™è¯¯:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â viÂ /etc/nginx/conf.d/default.conf</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">listen80;</span><br><span class="line">listen[::]80Â default_server</span><br></pre></td></tr></table></figure><p><code>:wq</code>ä¿å­˜é€€å‡º</p><p>é‡å¯nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â serviceÂ nginxÂ restart</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…php"><a href="#å®‰è£…php" class="headerlink" title="å®‰è£…php"></a>å®‰è£…php</h3><ol><li>æ£€æŸ¥å½“å‰å®‰è£…çš„php</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ listÂ installedÂ |Â grepÂ php</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰å·²å®‰è£…çš„php,å…ˆåˆ é™¤, å¦‚:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ removeÂ php.x86_64Â php-cli.x86_64Â php-common.x86_64</span><br></pre></td></tr></table></figure><ol start="2"><li>é…ç½®æº</li></ol><ul><li>Centos 5.X</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â rpmÂ -UvhÂ http://mirror.webtatic.com/yum/el5/latest.rpm</span><br></pre></td></tr></table></figure><ul><li>CentOs 6.x</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â rpmÂ -UvhÂ http://mirror.webtatic.com/yum/el6/latest.rpm</span><br></pre></td></tr></table></figure><ul><li>CentOs 7.X</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Â rpmÂ -UvhÂ https://mirror.webtatic.com/yum/el7/epel-release.rpm</span><br><span class="line">$Â rpmÂ -UvhÂ https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³åˆ é™¤ä¸Šé¢å®‰è£…çš„åŒ…ï¼Œé‡æ–°å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Â rpmÂ -qaÂ |Â grepÂ webstatic</span><br><span class="line">$Â rpmÂ -eÂ [ä¸Šé¢æœç´¢åˆ°çš„åŒ…å³å¯]</span><br></pre></td></tr></table></figure><ol start="3"><li>æ‰§è¡Œå®‰è£…</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ installÂ php56w.x86_64</span><br><span class="line">$Â yumÂ â€“enablerepo=webtaticÂ installÂ php56w-devel</span><br><span class="line">$Â yumÂ installÂ php56w-gd.x86_64Â php56w-ldap.x86_64Â php56w-mbstring.x86_64Â php56w-mcrypt.x86_64Â php56w-mysql.x86_64Â php56w-pdo.x86_64Â php56w-opcache.x86_64</span><br></pre></td></tr></table></figure><ol start="4"><li>å®‰è£…php-fpm</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ installÂ php56w-fpm</span><br></pre></td></tr></table></figure><p>è®¾ç½®php-fpmå¼€æœºå¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â chkconfigÂ php-fpmÂ on</span><br></pre></td></tr></table></figure><p>å¯åŠ¨php-fpm</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â /etc/init.d/php-fpmÂ start</span><br></pre></td></tr></table></figure><ul><li>æ³¨ï¼šå¦‚æœæƒ³æ›´æ¢åˆ°php5.5æˆ–5.4ç‰ˆæœ¬, ç›´æ¥æŠŠä¸Šé¢çš„56wæ¢æˆ55wæˆ–è€…54wå°±å¯ä»¥äº†</li></ul><h3 id="å®‰è£…-MySQL"><a href="#å®‰è£…-MySQL" class="headerlink" title="å®‰è£… MySQL"></a>å®‰è£… MySQL</h3><ol><li>å®‰è£…</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â yumÂ installÂ -yÂ mysqlÂ mysql-server</span><br></pre></td></tr></table></figure><p>å¯åŠ¨MySQL</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â /etc/init.d/mysqldÂ start</span><br></pre></td></tr></table></figure><p>è®¾ä¸ºå¼€æœºå¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â chkconfigÂ mysqldÂ on</span><br></pre></td></tr></table></figure><ol start="2"><li>æ‹·è´é…ç½®æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šå¦‚æœ/etcç›®å½•ä¸‹é¢é»˜è®¤æœ‰ä¸€ä¸ªmy.cnfï¼Œç›´æ¥è¦†ç›–å³å¯ï¼‰</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â cpÂ /usr/share/mysql/my-medium.cnfÂ /etc/my.cnf</span><br></pre></td></tr></table></figure><ol start="3"><li>ä¸ºrootè´¦æˆ·è®¾ç½®å¯†ç </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â mysql_secure_installation</span><br></pre></td></tr></table></figure><p>å›è½¦ï¼Œæ ¹æ®æç¤ºè¾“å…¥Yï¼Œè¾“å…¥2æ¬¡å¯†ç ï¼Œå›è½¦ï¼Œæ ¹æ®æç¤ºä¸€è·¯è¾“å…¥Yæœ€åå‡ºç°ï¼šThanks for using MySQL!<br>MySqlå¯†ç è®¾ç½®å®Œæˆï¼Œé‡æ–°å¯åŠ¨ MySQLï¼š</p><p>é‡å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â /etc/init.d/mysqldÂ restart</span><br></pre></td></tr></table></figure><p>åœæ­¢</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â /etc/init.d/mysqldÂ stop</span><br></pre></td></tr></table></figure><p>å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â /etc/init.d/mysqldÂ start</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨å‰çš„é…ç½®"><a href="#å¯åŠ¨å‰çš„é…ç½®" class="headerlink" title="å¯åŠ¨å‰çš„é…ç½®"></a>å¯åŠ¨å‰çš„é…ç½®</h2><ol><li>é…ç½®nginx</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Â rmÂ -rfÂ /etc/nginx/conf.d/*</span><br><span class="line">$Â viÂ /etc/nginx/conf.d/default.conf</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹ :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">Â Â Â Â listenÂ 80;</span><br><span class="line">Â Â Â Â server_nameÂ _;</span><br><span class="line">Â Â Â Â indexÂ index.phpÂ index.htmlÂ index.htm;</span><br><span class="line">Â Â Â Â rootÂ &#x2F;var&#x2F;www;</span><br><span class="line">Â Â Â Â locationÂ ~Â .*\.(php|php5)?$&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â #fastcgi_passÂ unix:&#x2F;tmp&#x2F;php-cgi.sock;</span><br><span class="line">Â Â Â Â Â Â Â Â fastcgi_passÂ 127.0.0.1:9000;</span><br><span class="line">Â Â Â Â Â Â Â Â fastcgi_indexÂ index.php;</span><br><span class="line">Â Â Â Â Â Â Â Â includeÂ fastcgi.conf;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â locationÂ &#x2F;Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â try_filesÂ $uriÂ $uri&#x2F;Â &#x2F;index.php?$query_string;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;</span><br><span class="line">#è¯´æ˜:Â &#x2F;var&#x2F;wwwÂ ä¸ºwebæ ¹ç›®å½•,Â locationÂ &#x2F;Â â€¦Â ä¸ºurlçš„rewrite,éšè—Â index.php</span><br></pre></td></tr></table></figure><p>é‡å¯nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â serviceÂ nginxÂ restart</span><br></pre></td></tr></table></figure><ol start="2"><li>é‡å¯php-fpm</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Â serviceÂ php-fpmÂ restart</span><br></pre></td></tr></table></figure><p>åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨IPåœ°å€(å¦‚: 127.0.0.1)ï¼Œå¯ä»¥çœ‹åˆ°ç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼<br>è¯´æ˜lnmpé…ç½®æˆåŠŸï¼</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Weex 2.0 ä¸­çš„ä¸€äº›å‘</title>
      <link href="/2017/09/02/Weex2.0%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/"/>
      <url>/2017/09/02/Weex2.0%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºå½“æ—¶åˆšå¥½å‰ç«¯è¦è¿ç§»åˆ° Vue, ç„¶å Weex é£å¤´æ­£å¤§, æ‰€ä»¥é€‰æ‹©äº†å®ƒ. æ²¡æƒ³åˆ°å›½å†…å¼€æºæ°´æ·±å•Š, åæœŸæ‰å‘ç°å¯èƒ½æ˜¯ KPI çš„äº§ç‰©.<br>ä½†æ˜¯è¿™ä¸ªå°æ··åˆ app ä¹Ÿæ²¡å¿…è¦ä¸‹è½¦äº†, è¸©ç€å‘èµ°å§, åæ­£ä¼°è®¡æ²¡æœ‰ä¸‹ä¸ªç‰ˆæœ¬â€¦</p><p>ç®€å•è®°å½•å‡ ä¸ªè¸©è¿‡çš„å‘.</p><a id="more"></a><ol><li><p>å®‰å“å¹³å°ä¸­, dom ä¸­ç»‘å®šçš„æ–¹æ³•å¿…é¡»æœ‰å®šä¹‰, å¦åˆ™ä¸æŠ¥é”™ä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„åŒå‘ç»‘å®šå¤±æ•ˆ</p></li><li><p>input ç»„ä»¶ä¸è¦ä½¿ç”¨ <code>v-model</code> æ¥ç»‘å®šå€¼, è™½ç„¶è¡¨é¢ä¸Šçœ‹èµ·æ¥æ²¡é—®é¢˜, ä½†æ˜¯å®é™…ä¸Šåœ¨å®‰å“å¹³å°å¯èƒ½ä¸Šä¼šå¯¼è‡´æ•°æ®çš„åŒå‘ç»‘å®šå¤±æ•ˆ, åº”è¯¥ä½¿ç”¨ <code>@input</code> äº‹ä»¶, ä¸éœ€è¦ä¼ å‚æ•°, åœ¨å¯¹åº”çš„ method ä¸­å¯ä»¥æ¥æ”¶åˆ° event, <code>event.value</code> å°±æ˜¯ input è¾“å…¥çš„å€¼ï¼Œåªèƒ½åœ¨ <code>@input</code> æˆ– <code>@change</code> ä¸­æ›´æ”¹ input çš„å€¼ã€‚</p></li><li><p>åŠ¨æ€ç»‘å®šæ ·å¼ç±» <code>:class</code>, å€¼ä¸ºæ•°ç»„, å¯ä»¥å†™æˆ <code>:class=&quot;[classA]&quot;</code>, åœ¨ data ä¸­ <code>classA: &#39;className&#39;</code>ã€‚</p></li><li><p>å›¾ç‰‡ã€‚è™½ç„¶å®˜ç½‘ä¸­ image æ ‡ç­¾æ¡ç›®ä¸­è¯´é“ç›®å‰åªæ”¯æŒä»å­˜å‚¨ <code>file:///</code> ä¸­åŠ è½½å›¾ç‰‡ï¼Œä¸æ”¯æŒåº”ç”¨ç¨‹åºèµ„æºæ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ path æ¡ç›®ä¸­å¯ä»¥çœ‹åˆ°æ–°ç‰ˆæœ¬ä¸­å¯ä»¥ä½¿ç”¨ <code>local:///</code> æ¥åŠ è½½ drawable ç›®å½•ä¸‹çš„å›¾ç‰‡èµ„æºï¼Œä¸è¦åŠ åç¼€ã€‚</p></li><li><p>navigatorï¼Œ<code>navigator.push()</code> æ–¹æ³•å¯ä»¥è·³è½¬åˆ°ä¸€ä¸ªé¡µï¼›<code>navigator.pop()</code> æ–¹æ³•å¯ä»¥ç¦»å¼€ä¸€ä¸ªé¡µï¼Œæ³¨æ„ pop æ–¹æ³•å¥½åƒåªèƒ½ pop æ‰è‡ªå·±ï¼Œä¹Ÿå°±æ˜¯å½“å‰é¡µï¼Œå¦åˆ™å¯èƒ½ä¼šæŠ¥é”™ï¼Œç¨‹åºé—ªé€€ã€‚</p></li><li><p>è¿™æ˜¯ vue çš„é—®é¢˜, ç”±äº JavaScript çš„é™åˆ¶ï¼Œ Vue ä¸èƒ½æ£€æµ‹ä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„ï¼š</p></li></ol><ul><li>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªé¡¹æ—¶ï¼Œä¾‹å¦‚ï¼š <code>vm.items[indexOfItem] = newValue</code></li><li>å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼š <code>vm.items.length = newLength</code></li></ul><p>ä¸ºäº†è§£å†³ç¬¬ä¸€ç±»é—®é¢˜ï¼Œä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°å’Œ <code>vm.items[indexOfItem] = newValue</code> ç›¸åŒçš„æ•ˆæœï¼Œ åŒæ—¶ä¹Ÿå°†è§¦å‘çŠ¶æ€æ›´æ–°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue.set</span></span><br><span class="line">Vue.set(example1.items, indexOfItem, newValue)</span><br><span class="line"><span class="comment">// Array.prototype.splice</span></span><br><span class="line">example1.items.splice(indexOfItem, <span class="number">1</span>, newValue)</span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³ç¬¬äºŒç±»é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ spliceï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">example1.items.splice(newLength);</span><br></pre></td></tr></table></figure><p>å½“ä½  <code>v-for</code> ä¸€ä¸ª object æ—¶, <code>object.key = value</code> å¯èƒ½ä¸ä¼šè§¦å‘ view åˆ·æ–°.</p><ol start="7"><li><p>å½“ä½ åœ¨ä¸€ä¸ª flex å¸ƒå±€å¤–å±‚å¥—ä¸Šä¸€ä¸ªå¹²å‡€çš„ div æ—¶, å¯èƒ½ä¼šå¯¼è‡´å¸ƒå±€æ··ä¹±, åœ¨è¿™ä¸ª div ä¸ŠåŠ ä¸€ä¸ª <code>style=&quot;&quot;</code> å±æ€§å¯èƒ½ä¼šè§£å†³é—®é¢˜.(è¿™ä¹ˆç¥å¥‡).</p></li><li><p>æœ¬åœ°è§†é¢‘ï¼Œvideo ç»„ä»¶æ’­æ”¾è§†é¢‘æ˜¯è°ƒç”¨å®‰å“åŸç”Ÿçš„ videoViewï¼Œæ‰€ä»¥æœ¬åœ°è§†é¢‘çš„è·¯å¾„å°±æŒ‰ç…§åŸç”Ÿå¼•ç”¨æ–‡ä»¶çš„è·¯å¾„çš„å†™æ³•ã€‚</p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Sublime å¸¸ç”¨å¿«æ·é”®</title>
      <link href="/2017/08/05/sublime%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/2017/08/05/sublime%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<p>åˆ«å¤„æ‹·æ¥çš„â€¦</p><a id="more"></a><p>è§£å†³sublime text æ€»æ˜¯åœ¨æ–°çª—å£ä¸­æ‰“å¼€æ–‡ä»¶<br>Preferences -&gt; Settings â€“ Default -&gt; æœç´¢open_files_in_new_windowï¼Œå°†å…¶true æ”¹ä¸º false å</p><p>è‡ªåŠ¨å®‰è£…Package Controlï¼š<br>1ã€é€šè¿‡å¿«æ·é”® ctrl+` æˆ–è€… View &gt; Show Console èœå•æ‰“å¼€æ§åˆ¶å°</p><p>2ã€ç²˜è´´å¯¹åº”ç‰ˆæœ¬çš„ä»£ç åå›è½¦å®‰è£…</p><p>é€‚ç”¨äº Sublime Text 3ï¼š<br>import urllib.request,os;pf=â€™Package Control.sublime-packageâ€™;ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),â€™wbâ€™).write(urllib.request.urlopen(â€˜<a href="http://sublime.wbond.net/&#39;+pf.replace" target="_blank" rel="noopener">http://sublime.wbond.net/&#39;+pf.replace</a>(â€˜ â€˜,â€™%20â€™)).read())<br>ç¦»çº¿å®‰è£…:<br>ä¸‹è½½åŒ…ï¼š<a href="http://github.com/wbond/sublime_package_control" target="_blank" rel="noopener">http://github.com/wbond/sublime_package_control</a><br>è§£å‹ï¼Œå¹¶ç›®å½•æ”¹åä¸º Package Control<br>Preferences-&gt;browse packages ä¼šæ‰“å¼€ä¸€ä¸ªç›®å½•ï¼Œç„¶åå°†åˆšæ‰çš„æ–‡ä»¶å¤¹å¤åˆ¶è¿›æ¥ã€‚<br>é‡æ–°æ‰“å¼€sublime textåç”Ÿæ•ˆ</p><p>æ¥ä¸‹æ¥ä¸€å®šè®°ä½å…ˆé‡å¯è½¯ä»¶ï¼<br><a href="https://packagecontrol.io/browse" target="_blank" rel="noopener">https://packagecontrol.io/browse</a> å¯ç”¨æ’ä»¶åˆ—è¡¨<br>ä½¿ç”¨:<br>ctrl+shift+p<br>install package<br>remove package</p><p>ç¼–è¾‘å™¨ä¸»é¢˜ Aprosopo<br>install package -&gt; Theme Aprosopo</p><p>BracketHighlighter (æ‹¬å¼§é«˜äº®æ˜¾ç¤º)</p><p>SideBarEnhancements (ç›®å½•ç®¡ç†å³é”®åŠŸèƒ½)</p><p>ConverToUTF8 (æ”¯æŒUTF-8ç¼–ç )<br>æ³¨ï¼šå»ºè®®ä¿®æ”¹å¿«æ·é”®ï¼Œé¿å…ä¸å…¶å®ƒå†²çªã€‚<br>Sublime Text3/Packages/ConverToUTF8/Default (OSX).sublime-keymap</p><p>GBK4subl (ä½¿sublimeæ”¯æŒgbkç¼–ç )<br>éœ€è¦ä¸‹è½½æ’ä»¶ï¼š<a href="https://github.com/jeewood/gbk4subl" target="_blank" rel="noopener">https://github.com/jeewood/gbk4subl</a><br>è§£å‹åå°†ç›®å½•å¤åˆ¶åˆ° Sublime Text3/Packages/<br>ç›®å½•æ”¹åä¸º gbk4subl<br>é‡å¯ç¨‹åº</p><p>CSS Format (æ•´ç† CSS æ ¼å¼)</p><p>TrailingSpaces (é«˜äº®æ˜¾ç¤ºè¡Œå°¾å¤šä½™ç©ºæ ¼å’ŒTabï¼Œå¯ä¸€é”®åˆ é™¤)</p><p>Color Picker<br>éœ€è¦ä¸‹è½½æ’ä»¶ï¼š<a href="https://github.com/weslly/ColorPicker" target="_blank" rel="noopener">https://github.com/weslly/ColorPicker</a><br>è§£å‹åå°†ç›®å½•å¤åˆ¶åˆ° Sublime Text3/Packages/<br>ç›®å½•æ”¹åä¸º ColorPicker<br>é‡å¯ç¨‹åº<br>ä½¿ç”¨ï¼š mac command+shift+c<br>windows ctrl+shift+c<br>æ³¨ï¼šå¦‚æœå¿«æ·é”®å¤±æ•ˆï¼Œæœ‰å¯èƒ½æ˜¯å…¶å®ƒæ’ä»¶å¿«æ·é”®å†²çªï¼ˆconverToUTF8å¯èƒ½æ€§å¾ˆå¤§ï¼‰</p><p>Better Completion (æ”¯æŒJavascriptã€JQueryã€Twitter Bootstrapæ¡†æ¶ã€HTML5æ ‡ç­¾å±æ€§æç¤ºçš„æ’ä»¶)<br><a href="https://github.com/Pleasurazy/Sublime-Better-Completion" target="_blank" rel="noopener">https://github.com/Pleasurazy/Sublime-Better-Completion</a><br>install package<br>éœ€é‡å¯</p><p>Emmet (HTML CSS ç¼–è¾‘ç¥å™¨)<br>éœ€é‡å¯<br>æµ‹è¯•ï¼š<br>æ–‡æ¡£ä¸­è¾“å…¥ ulï¼ƒbooks&gt;li<em>6 ä¹‹å ctrl+e ç”Ÿæˆ<br>zencodingæ§åˆ¶å°ï¼ˆctrl+alt+enterï¼‰ è¾“å…¥ ulï¼ƒbooks&gt;li</em>6</p><p>DocBlockr (è‡ªåŠ¨æ³¨é‡Šï¼Œè‡ªåŠ¨è§£æå‡½æ•°ã€å˜é‡ã€å‚æ•°)<br>éœ€é‡å¯<br>ä½¿ç”¨ï¼š åœ¨functionã€var ä¸Šä¸€è¡Œè¾“å…¥ï¼ã€‹ /**å›è½¦</p><p>MarkdownEditingï¼ˆmarkdownæ ¼å¼æŸ¥çœ‹ï¼Œç¼–è¾‘ï¼‰</p><p>JsFormatï¼ˆå°†å‹ç¼©çš„.min.jsæ ¼å¼åŒ–ï¼‰</p><p>Minifyï¼ˆå‹ç¼©js,cssï¼‰</p><p>SublimeCodeintel (æ”¯æŒæ–¹æ³•è·³è½¬å’Œè‡ªåŠ¨æç¤º)</p><p>SFTP (ftp,sftp)</p><p>Evernote<br>Preferences -&gt; Package Control:Install Package -&gt; evernote</p><p>è·å¾—evernote apiæ¥å£ Developer Tokens<br>Preferences -&gt; Package Settings -&gt; Evernote -&gt; Reconfigure Authorization</p><p>ä¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="https://www.evernote.com/api/DeveloperToken.action" target="_blank" rel="noopener">https://www.evernote.com/api/DeveloperToken.action</a><br>å¦‚æœæ˜¯ä¸­å›½åŒº å°è±¡ç¬”è®°ç”¨æˆ·è¯·ç›´æ¥æ‰“å¼€ <a href="https://app.yinxiang.com/api/DeveloperToken.action" target="_blank" rel="noopener">https://app.yinxiang.com/api/DeveloperToken.action</a><br>ç”³è¯·å¥½Token</p><p>æ’ä»¶ Evernoteé…ç½®<br>Preferences -&gt; Package Settings -&gt; Evernote -&gt; Settings â€“ User<br>è¾“å…¥ developer token ä¸ url<br>ä¿å­˜åå°±å¯ä»¥ä½¿ç”¨äº†</p><p>Sublime Text 3 å¿«æ·é”®ç²¾åç‰ˆ</p><p>Ctrl+Shift+Pï¼šæ‰“å¼€å‘½ä»¤é¢æ¿<br>Ctrl+Pï¼šæœç´¢é¡¹ç›®ä¸­çš„æ–‡ä»¶<br>Ctrl+Gï¼šè·³è½¬åˆ°ç¬¬å‡ è¡Œ<br>Ctrl+Wï¼šå…³é—­å½“å‰æ‰“å¼€æ–‡ä»¶<br>Ctrl+Shift+Wï¼šå…³é—­æ‰€æœ‰æ‰“å¼€æ–‡ä»¶<br>Ctrl+Shift+Vï¼šç²˜è´´å¹¶æ ¼å¼åŒ–<br>Ctrl+Dï¼šé€‰æ‹©å•è¯ï¼Œé‡å¤å¯å¢åŠ é€‰æ‹©ä¸‹ä¸€ä¸ªç›¸åŒçš„å•è¯<br>Ctrl+Lï¼šé€‰æ‹©è¡Œï¼Œé‡å¤å¯ä¾æ¬¡å¢åŠ é€‰æ‹©ä¸‹ä¸€è¡Œ<br>Ctrl+Shift+Lï¼šé€‰æ‹©å¤šè¡Œ<br>Ctrl+Shift+Enterï¼šåœ¨å½“å‰è¡Œå‰æ’å…¥æ–°è¡Œ<br>Ctrl+Xï¼šåˆ é™¤å½“å‰è¡Œ<br>Ctrl+Mï¼šè·³è½¬åˆ°å¯¹åº”æ‹¬å·<br>Ctrl+Uï¼šè½¯æ’¤é”€ï¼Œæ’¤é”€å…‰æ ‡ä½ç½®<br>Ctrl+Jï¼šé€‰æ‹©æ ‡ç­¾å†…å®¹<br>Ctrl+Fï¼šæŸ¥æ‰¾å†…å®¹<br>Ctrl+Shift+Fï¼šæŸ¥æ‰¾å¹¶æ›¿æ¢<br>Ctrl+Hï¼šæ›¿æ¢<br>Ctrl+Rï¼šå‰å¾€ method<br>Ctrl+Nï¼šæ–°å»ºçª—å£<br>Ctrl+K+Bï¼šå¼€å…³ä¾§æ <br>Ctrl+Shift+Mï¼šé€‰ä¸­å½“å‰æ‹¬å·å†…å®¹ï¼Œé‡å¤å¯é€‰ç€æ‹¬å·æœ¬èº«<br>Ctrl+F2ï¼šè®¾ç½®/åˆ é™¤æ ‡è®°<br>Ctrl+/ï¼šæ³¨é‡Šå½“å‰è¡Œ<br>Ctrl+Shift+/ï¼šå½“å‰ä½ç½®æ’å…¥æ³¨é‡Š<br>Ctrl+Alt+/ï¼šå—æ³¨é‡Šï¼Œå¹¶Focusåˆ°é¦–è¡Œï¼Œå†™æ³¨é‡Šè¯´æ˜ç”¨çš„<br>Ctrl+Shift+Aï¼šé€‰æ‹©å½“å‰æ ‡ç­¾å‰åï¼Œä¿®æ”¹æ ‡ç­¾ç”¨çš„<br>F11ï¼šå…¨å±<br>Shift+F11ï¼šå…¨å±å…æ‰“æ‰°æ¨¡å¼ï¼Œåªç¼–è¾‘å½“å‰æ–‡ä»¶<br>Alt+F3ï¼šé€‰æ‹©æ‰€æœ‰ç›¸åŒçš„è¯<br>Alt+.ï¼šé—­åˆæ ‡ç­¾<br>Alt+Shift+æ•°å­—ï¼šåˆ†å±æ˜¾ç¤º<br>Alt+æ•°å­—ï¼šåˆ‡æ¢æ‰“å¼€ç¬¬Nä¸ªæ–‡ä»¶<br>Shift+å³é”®æ‹–åŠ¨ï¼šå…‰æ ‡å¤šä¸ï¼Œç”¨æ¥æ›´æ”¹æˆ–æ’å…¥åˆ—å†…å®¹<br>é¼ æ ‡çš„å‰è¿›åé€€é”®å¯åˆ‡æ¢Tabæ–‡ä»¶<br>æŒ‰Ctrlï¼Œä¾æ¬¡ç‚¹å‡»æˆ–é€‰å–ï¼Œå¯éœ€è¦ç¼–è¾‘çš„å¤šä¸ªä½ç½®<br>æŒ‰Ctrl+Shift+ä¸Šä¸‹é”®ï¼Œå¯æ›¿æ¢è¡Œ<br>é€‰æ‹©ç±»</p><p>Ctrl+D é€‰ä¸­å…‰æ ‡æ‰€å çš„æ–‡æœ¬ï¼Œç»§ç»­æ“ä½œåˆ™ä¼šé€‰ä¸­ä¸‹ä¸€ä¸ªç›¸åŒçš„æ–‡æœ¬ã€‚</p><p>Alt+F3 é€‰ä¸­æ–‡æœ¬æŒ‰ä¸‹å¿«æ·é”®ï¼Œå³å¯ä¸€æ¬¡æ€§é€‰æ‹©å…¨éƒ¨çš„ç›¸åŒæ–‡æœ¬è¿›è¡ŒåŒæ—¶ç¼–è¾‘ã€‚ä¸¾ä¸ªæ —å­ï¼šå¿«é€Ÿé€‰ä¸­å¹¶æ›´æ”¹æ‰€æœ‰ç›¸åŒçš„å˜é‡åã€å‡½æ•°åç­‰ã€‚</p><p>Ctrl+L é€‰ä¸­æ•´è¡Œï¼Œç»§ç»­æ“ä½œåˆ™ç»§ç»­é€‰æ‹©ä¸‹ä¸€è¡Œï¼Œæ•ˆæœå’Œ Shift+â†“ æ•ˆæœä¸€æ ·ã€‚</p><p>Ctrl+Shift+L å…ˆé€‰ä¸­å¤šè¡Œï¼Œå†æŒ‰ä¸‹å¿«æ·é”®ï¼Œä¼šåœ¨æ¯è¡Œè¡Œå°¾æ’å…¥å…‰æ ‡ï¼Œå³å¯åŒæ—¶ç¼–è¾‘è¿™äº›è¡Œã€‚</p><p>Ctrl+Shift+M é€‰æ‹©æ‹¬å·å†…çš„å†…å®¹ï¼ˆç»§ç»­é€‰æ‹©çˆ¶æ‹¬å·ï¼‰ã€‚ä¸¾ä¸ªæ —å­ï¼šå¿«é€Ÿé€‰ä¸­åˆ é™¤å‡½æ•°ä¸­çš„ä»£ç ï¼Œé‡å†™å‡½æ•°ä½“ä»£ç æˆ–é‡å†™æ‹¬å·å†…é‡Œçš„å†…å®¹ã€‚</p><p>Ctrl+M å…‰æ ‡ç§»åŠ¨è‡³æ‹¬å·å†…ç»“æŸæˆ–å¼€å§‹çš„ä½ç½®ã€‚</p><p>Ctrl+Enter åœ¨ä¸‹ä¸€è¡Œæ’å…¥æ–°è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå³ä½¿å…‰æ ‡ä¸åœ¨è¡Œå°¾ï¼Œä¹Ÿèƒ½å¿«é€Ÿå‘ä¸‹æ’å…¥ä¸€è¡Œã€‚</p><p>Ctrl+Shift+Enter åœ¨ä¸Šä¸€è¡Œæ’å…¥æ–°è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå³ä½¿å…‰æ ‡ä¸åœ¨è¡Œé¦–ï¼Œä¹Ÿèƒ½å¿«é€Ÿå‘ä¸Šæ’å…¥ä¸€è¡Œã€‚</p><p>Ctrl+Shift+[ é€‰ä¸­ä»£ç ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼ŒæŠ˜å ä»£ç ã€‚</p><p>Ctrl+Shift+] é€‰ä¸­ä»£ç ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼Œå±•å¼€ä»£ç ã€‚</p><p>Ctrl+K+0 å±•å¼€æ‰€æœ‰æŠ˜å ä»£ç ã€‚</p><p>Ctrl+â† å‘å·¦å•ä½æ€§åœ°ç§»åŠ¨å…‰æ ‡ï¼Œå¿«é€Ÿç§»åŠ¨å…‰æ ‡ã€‚</p><p>Ctrl+â†’ å‘å³å•ä½æ€§åœ°ç§»åŠ¨å…‰æ ‡ï¼Œå¿«é€Ÿç§»åŠ¨å…‰æ ‡ã€‚</p><p>shift+â†‘ å‘ä¸Šé€‰ä¸­å¤šè¡Œã€‚</p><p>shift+â†“ å‘ä¸‹é€‰ä¸­å¤šè¡Œã€‚</p><p>Shift+â† å‘å·¦é€‰ä¸­æ–‡æœ¬ã€‚</p><p>Shift+â†’ å‘å³é€‰ä¸­æ–‡æœ¬ã€‚</p><p>Ctrl+Shift+â† å‘å·¦å•ä½æ€§åœ°é€‰ä¸­æ–‡æœ¬ã€‚</p><p>Ctrl+Shift+â†’ å‘å³å•ä½æ€§åœ°é€‰ä¸­æ–‡æœ¬ã€‚</p><p>Ctrl+Shift+â†‘ å°†å…‰æ ‡æ‰€åœ¨è¡Œå’Œä¸Šä¸€è¡Œä»£ç äº’æ¢ï¼ˆå°†å…‰æ ‡æ‰€åœ¨è¡Œæ’å…¥åˆ°ä¸Šä¸€è¡Œä¹‹å‰ï¼‰ã€‚</p><p>Ctrl+Shift+â†“ å°†å…‰æ ‡æ‰€åœ¨è¡Œå’Œä¸‹ä¸€è¡Œä»£ç äº’æ¢ï¼ˆå°†å…‰æ ‡æ‰€åœ¨è¡Œæ’å…¥åˆ°ä¸‹ä¸€è¡Œä¹‹åï¼‰ã€‚</p><p>Ctrl+Alt+â†‘ å‘ä¸Šæ·»åŠ å¤šè¡Œå…‰æ ‡ï¼Œå¯åŒæ—¶ç¼–è¾‘å¤šè¡Œã€‚</p><p>Ctrl+Alt+â†“ å‘ä¸‹æ·»åŠ å¤šè¡Œå…‰æ ‡ï¼Œå¯åŒæ—¶ç¼–è¾‘å¤šè¡Œã€‚</p><p>ç¼–è¾‘ç±»</p><p>Ctrl+J åˆå¹¶é€‰ä¸­çš„å¤šè¡Œä»£ç ä¸ºä¸€è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå°†å¤šè¡Œæ ¼å¼çš„CSSå±æ€§åˆå¹¶ä¸ºä¸€è¡Œã€‚</p><p>Ctrl+Shift+D å¤åˆ¶å…‰æ ‡æ‰€åœ¨æ•´è¡Œï¼Œæ’å…¥åˆ°ä¸‹ä¸€è¡Œã€‚</p><p>Tab å‘å³ç¼©è¿›ã€‚</p><p>Shift+Tab å‘å·¦ç¼©è¿›ã€‚</p><p>Ctrl+K+K ä»å…‰æ ‡å¤„å¼€å§‹åˆ é™¤ä»£ç è‡³è¡Œå°¾ã€‚</p><p>Ctrl+Shift+K åˆ é™¤æ•´è¡Œã€‚</p><p>Ctrl+/ æ³¨é‡Šå•è¡Œã€‚</p><p>Ctrl+Shift+/ æ³¨é‡Šå¤šè¡Œã€‚</p><p>Ctrl+K+U è½¬æ¢å¤§å†™ã€‚</p><p>Ctrl+K+L è½¬æ¢å°å†™ã€‚</p><p>Ctrl+Z æ’¤é”€ã€‚</p><p>Ctrl+Y æ¢å¤æ’¤é”€ã€‚</p><p>Ctrl+U è½¯æ’¤é”€ï¼Œæ„Ÿè§‰å’Œ Gtrl+Z ä¸€æ ·ã€‚</p><p>Ctrl+F2 è®¾ç½®ä¹¦ç­¾</p><p>Ctrl+T å·¦å³å­—æ¯äº’æ¢ã€‚</p><p>F6 å•è¯æ£€æµ‹æ‹¼å†™</p><p>æœç´¢ç±»</p><p>Ctrl+F æ‰“å¼€åº•éƒ¨æœç´¢æ¡†ï¼ŒæŸ¥æ‰¾å…³é”®å­—ã€‚</p><p>Ctrl+shift+F åœ¨æ–‡ä»¶å¤¹å†…æŸ¥æ‰¾ï¼Œä¸æ™®é€šç¼–è¾‘å™¨ä¸åŒçš„åœ°æ–¹æ˜¯sublimeå…è®¸æ·»åŠ å¤šä¸ªæ–‡ä»¶å¤¹è¿›è¡ŒæŸ¥æ‰¾ï¼Œç•¥é«˜ç«¯ï¼Œæœªç ”ç©¶ã€‚</p><p>Ctrl+P æ‰“å¼€æœç´¢æ¡†ã€‚ä¸¾ä¸ªæ —å­ï¼š1ã€è¾“å…¥å½“å‰é¡¹ç›®ä¸­çš„æ–‡ä»¶åï¼Œå¿«é€Ÿæœç´¢æ–‡ä»¶ï¼Œ2ã€è¾“å…¥@å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­å‡½æ•°åï¼Œ3ã€è¾“å…¥ï¼šå’Œæ•°å­—ï¼Œè·³è½¬åˆ°æ–‡ä»¶ä¸­è¯¥è¡Œä»£ç ï¼Œ4ã€è¾“å…¥#å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾å˜é‡åã€‚</p><p>Ctrl+G æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦ï¼šï¼Œè¾“å…¥æ•°å­—è·³è½¬åˆ°è¯¥è¡Œä»£ç ã€‚ä¸¾ä¸ªæ —å­ï¼šåœ¨é¡µé¢ä»£ç æ¯”è¾ƒé•¿çš„æ–‡ä»¶ä¸­å¿«é€Ÿå®šä½ã€‚</p><p>Ctrl+R æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦@ï¼Œè¾“å…¥å…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­çš„å‡½æ•°åã€‚ä¸¾ä¸ªæ —å­ï¼šåœ¨å‡½æ•°è¾ƒå¤šçš„é¡µé¢å¿«é€ŸæŸ¥æ‰¾æŸä¸ªå‡½æ•°ã€‚</p><p>Ctrl+ï¼š æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦#ï¼Œè¾“å…¥å…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­çš„å˜é‡åã€å±æ€§åç­‰ã€‚</p><p>Ctrl+Shift+P æ‰“å¼€å‘½ä»¤æ¡†ã€‚åœºæ™¯æ —å­ï¼šæ‰“å¼€å‘½åæ¡†ï¼Œè¾“å…¥å…³é”®å­—ï¼Œè°ƒç”¨sublime textæˆ–æ’ä»¶çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨packageå®‰è£…æ’ä»¶ã€‚</p><p>Esc é€€å‡ºå…‰æ ‡å¤šè¡Œé€‰æ‹©ï¼Œé€€å‡ºæœç´¢æ¡†ï¼Œå‘½ä»¤æ¡†ç­‰ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å»ºç«‹ WordPress ç«™ç‚¹é‡åˆ°çš„ä¸€äº›é—®é¢˜</title>
      <link href="/2017/08/03/%E5%BB%BA%E7%AB%8BWordPress%E7%AB%99%E7%82%B9%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/"/>
      <url>/2017/08/03/%E5%BB%BA%E7%AB%8BWordPress%E7%AB%99%E7%82%B9%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ol><li>é¦–å…ˆä»å®˜ç½‘ä¸Šä¸‹è½½æœ€æ–°ç‰ˆæœ¬ WordPress , è§£å‹ , ä½¿ç”¨ ftp å·¥å…·ä¸Šä¼ åˆ°æœåŠ¡å™¨.</li><li>åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“å’Œè¡¨ç»™ wordPress ç¨‹åº</li><li>ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æœåŠ¡å™¨ç«¯ /wordpress/wp-admin/install.php , è¿›è¡Œæ•°æ®åº“ç­‰é…ç½®</li><li>åœ¨ install.php ä¸­é…ç½®å¥½æ•°æ®åº“å,å³å¯è‡ªåŠ¨å»ºç«™</li></ol><a id="more"></a><h2 id="å¯èƒ½å‡ºç°çš„é—®é¢˜"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜</h2><ol><li>æµè§ˆå™¨ url ä¸­æ–‡ä»¶åæ¶ˆå¤±, è·¯å¾„æŒ‡å‘ 23 ç›®å½•, æŠ¥ 403 é”™è¯¯.</li></ol><p>å¯èƒ½æ˜¯ç›®å½•æƒé™é—®é¢˜, ä¸ºäº†ä¿è¯ wordPress ç¨‹åºåç»­çš„æ›´æ–°ç­‰æ–‡ä»¶æ“ä½œä¸ä¼šå‡ºç°æ­¤é—®é¢˜, å¹²è„†ç›´æ¥æŠŠé¡¹ç›®æ–‡ä»¶æƒé™è®¾ç½®ä¸º 777</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod -R 777 wordPress&#x2F;*</span><br></pre></td></tr></table></figure><ol start="2"><li>php æ–‡ä»¶ä¸èƒ½ç›´æ¥æ‰“å¼€é¡µé¢, è€Œæ˜¯ä¸‹è½½äº†æ­¤æ–‡ä»¶</li></ol><p>å¯èƒ½æ˜¯å› ä¸º nginx æœªå°† .php æ–‡ä»¶ä¼ é€’ç»™ php è§£é‡Šå™¨, ä¿®æ”¹ nginx é…ç½®æ–‡ä»¶ <code>/etc/nginx/conf.d/default.conf</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># è¿™é‡Œè§£å†³è·¯å¾„æŒ‡å‘æ–‡ä»¶å¤¹æ—¶,æ‰“å¼€æ­¤æ–‡ä»¶å¤¹ä¸‹çš„indexæ–‡æ¡£Â Â </span><br><span class="line">locationÂ &#x2F;Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â indexÂ Â Â index.phpÂ index.html;</span><br><span class="line">Â Â Â Â Â Â Â try_filesÂ $uriÂ $uri&#x2F;Â &#x2F;index.php?$args;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># å°†.phpæ–‡ä»¶äº¤ç»™ç›‘å¬9000ç«¯å£çš„php-fpm</span><br><span class="line"># ä¼ é€’æ–‡ä»¶è·¯å¾„,è§£å†³çŠ¶æ€200ä½†æ˜¯ä¸ºç©ºç™½é¡µçš„é—®é¢˜</span><br><span class="line">locationÂ ~Â .*\.php$Â &#123;</span><br><span class="line">Â Â Â Â Â Â rootÂ Â Â Â &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;</span><br><span class="line">Â Â Â Â Â Â fastcgi_passÂ Â Â 127.0.0.1:9000;Â Â Â Â Â </span><br><span class="line">Â Â Â Â Â Â fastcgi_paramÂ SCRIPT_FILENAMEÂ $document_root$fastcgi_script_name;</span><br><span class="line">Â Â Â Â Â Â includeÂ fastcgi_params;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>è¿”å›çŠ¶æ€ç ä¸º 200, ä½†æ˜¯é¡µé¢ç©ºç™½</li></ol><p>ä¼ å…¥ php-fpm çš„æ–‡ä»¶è·¯å¾„é—®é¢˜, åœ¨ 2 ä¸­æœ‰è§£å†³ä»£ç </p><ol start="4"><li>æ›´æ–°ç¨‹åºå’Œä¸Šä¼ æ–‡ä»¶æ—¶, å¯èƒ½ä¼šé‡åˆ°è¾“å…¥ FTP é…ç½®çš„é—®é¢˜</li></ol><p>ä¿®æ”¹ <code>wordPress/wp-config.php</code> æ–‡ä»¶, æœ«å°¾åŠ ä¸Š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**Â è§£å†³æ›´æ–°å’Œä¸Šä¼ éœ€è¦è¾“å…¥ä¸»æœºåftpé—®é¢˜Â **&#x2F;</span><br><span class="line">define(&quot;FS_METHOD&quot;,Â &quot;direct&quot;);</span><br><span class="line">define(&quot;FS_CHMOD_DIR&quot;,Â 0777);</span><br><span class="line">define(&quot;FS_CHMOD_FILE&quot;,Â 0777);</span><br></pre></td></tr></table></figure><ol start="5"><li>ä¸Šä¼ æ–‡ä»¶æˆ– wordpress ä¸»é¢˜æ–‡ä»¶æ—¶ï¼Œé‡åˆ° nginx 413 é”™è¯¯</li></ol><p>æ˜¯å› ä¸ºä¸Šä¼ çš„æ–‡ä»¶å¤§å°è¶…è¿‡äº† nginx é…ç½®çš„é™åˆ¶ï¼Œ ä¿®æ”¹ <code>/etc/nginx/www.conf</code><br>åœ¨ html å—ä¸­åŠ å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 20mä¸ºè¦è®¾ç½®çš„é™åˆ¶å¤§å°</span><br><span class="line">client_max_body_sizeÂ 20m;</span><br></pre></td></tr></table></figure><p>é‡å¯ nginx æœåŠ¡å™¨å, å¾ˆæœ‰å¯èƒ½è¿˜ä¼šå‡ºç° php çš„è¶…è¿‡é™åˆ¶å¤§å°çš„é”™è¯¯<br>è§£å†³æ–¹æ³•ï¼Œæ‰¾åˆ°php.iniæ–‡ä»¶ï¼Œä¿®æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å»ºè®®å€¼ä¸nginxä¸­çš„é™åˆ¶å¤§å°ç›¸è¿‘</span><br><span class="line">post_max_size</span><br><span class="line">upload_max_filesize</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
